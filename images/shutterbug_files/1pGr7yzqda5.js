if (self.CavalryLogger) { CavalryLogger.start_js(["JpX+2"]); }

__d("DynamicAdsTemplateVideoShowreelTemplateConfig",[],(function(a,b,c,d,e,f){e.exports={default_template_id:"254331995163822",templates:{254331995163822:{customization:{text_color:"FFFFFF",text_background_color:"000000"},showreel_video_template_id:"dpa_retail_prototype"}}}}),null);
__d("DynamicAdsTemplateVideoSkywalkerConfig",[],(function(a,b,c,d,e,f){e.exports={topic_prefix:"canvas_template_videos/"}}),null);
__d("AddCanvasAddCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.ADD_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasAddNewLifestyleComponentActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.ADD_NEW_LIFESTYLE_COMPONENT";e.exports={actionType:a}}),null);
__d("AdsCanvasBuilderLoadTemplateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.BUILDER.LOAD_TEMPLATE";e.exports={actionType:a}}),null);
__d("AdsCanvasBuilderOpenBlankCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.BUILDER.OPEN_BLANK_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasBuilderOpenNUXTourDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.BUILDER.OPEN_NUX_TOUR";e.exports={actionType:a}}),null);
__d("AdsCanvasBuilderSelectTemplateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.BUILDER.SELECT_TEMPLATE";e.exports={actionType:a}}),null);
__d("AdsCanvasCollectionPreviewToFacebookDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PREVIEW_CANVAS_TO_FACEBOOK";e.exports={actionType:a}}),null);
__d("AdsCanvasCollectionPreviewToInstagramDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PREVIEW_CANVAS_TO_INSTAGRAM";e.exports={actionType:a}}),null);
__d("AdsCanvasDeleteDocumentActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.DELTE_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasDisableCategoryTabsActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.DISABLE_CATEGORY_TABS";e.exports={actionType:a}}),null);
__d("AdsCanvasDisableMultiTabCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.DISABLE_MULTI_TAB_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentAddNewElementsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.ADD_NEW_ELEMENTS";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentCreateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.CREATE_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentCreateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.CREATE_ERROR";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentCreateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.CREATE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentCreateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.CREATE_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentDuplicateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.DUPLICATE_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentDuplicateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.DUPLICATE_ERROR";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentDuplicateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.DUPLICATE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentDuplicateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.DUPLICATE_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentInitDuplicateDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.INIT_DUPLICATE";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentInitPublishDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.INIT_PUBLISH";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentInitSaveDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.INIT_SAVE";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.LOAD_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.LOAD_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentReorderElementsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.REORDER_ELEMENTS";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentSaveDynamicCanvasErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"CANVAS.CREATE_DYNAMIC_CANVAS_ERORR");e.exports=a}),null);
__d("AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.CREATE_DYNAMIC_CANVAS_ERORR";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentSaveErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"DOCUMENT.SAVE_ERROR");e.exports=a}),null);
__d("AdsCanvasDocumentSaveSuccessDataAction",["Laminar","ifRequired"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired")("AdsUEditorAdgroupSaveCanvasReducerPlugin",function(a){return b("ifRequired")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{})})})]},function(){return[]},"DOCUMENT.SAVE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasDocumentSetSupportInstagramActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.SET_SUPPORT_INSTAGRAM";e.exports={actionType:a}}),null);
__d("AdsCanvasDocumentSetTitleDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="DOCUMENT.SET_TITLE";e.exports={actionType:a}}),null);
__d("AdsCanvasElementCreateErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.CREATE_ERROR");e.exports=a}),null);
__d("AdsCanvasElementCreateErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.CREATE_ERROR";e.exports={actionType:a}}),null);
__d("AdsCanvasElementCreateSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.CREATE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasElementCreateSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.CREATE_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsCanvasElementDeleteDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.DELETE";e.exports={actionType:a}}),null);
__d("AdsCanvasElementLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.LOAD_ERROR");e.exports=a}),null);
__d("AdsCanvasElementLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.LOAD_ERROR";e.exports={actionType:a}}),null);
__d("AdsCanvasElementLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsCanvasElementLoadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.LOAD_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsCanvasElementSaveErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.SAVE_ERROR");e.exports=a}),null);
__d("AdsCanvasElementSaveErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.SAVE_ERROR";e.exports={actionType:a}}),null);
__d("AdsCanvasElementSaveSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ELEMENT.SAVE_SUCCESS");e.exports=a}),null);
__d("AdsCanvasElementSaveSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.SAVE_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsCanvasElementSetDefaultCategoriesEnabledActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsCanvasElementSetDefaultCategoriesEnabledActionPlugin";e.exports={actionType:a}}),null);
__d("AdsCanvasElementSwitchButtonPositionDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ELEMENT.SWITCH_BUTTON_POSITION";e.exports={actionType:a}}),null);
__d("AdsCanvasEnableCategoryTabsActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.ENABLE_CATEGORY_TABS";e.exports={actionType:a}}),null);
__d("AdsCanvasEnableMultiTabCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.ENABLE_MULTI_TAB_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineBuilderFinishFormCanvasDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"canvasInlineBuilderFinishLeadGenFormCanvas");e.exports=a}),null);
__d("AdsCanvasInlineBuilderPreviewCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PREVIEW_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineBuilderSaveAllCanvasesAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"SAVE_ALL_CANVASES");e.exports=a}),null);
__d("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVE_ALL_CANVASES";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineBuilderSaveCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SAVE_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SET_PRODUCT_TAGGING_COORDINATES";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="SHOW_PRODUCT_TAGGING_OVERLAY";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineToggleLeadFormElementDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="canvasInlineBuilderToggleLeadFormElement";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineToggleStoreLocatorElementActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.INLINE.TOGGLE_STORE_LOCATOR";e.exports={actionType:a}}),null);
__d("AdsCanvasInlineTransformCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ADS.CANVAS.INLINE.TRANSFORM_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasLoadDynamicCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.LOAD_DYNAMIC_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasReorderMultiCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.REORDER_MULTI_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasResetCanvasDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.RESET_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasSelectCanvasActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.SELECT_CANVAS";e.exports={actionType:a}}),null);
__d("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.SET_HIDE_PRODUCT_PRICES_FOR_LIFESTYLE";e.exports={actionType:a}}),null);
__d("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.SET_PRODUCT_CATALOG_FOR_LIFESTYLE";e.exports={actionType:a}}),null);
__d("AdsCanvasSetProductCategorizationCriteriaActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsCanvasSetProductCategorizationCriteriaActionPlugin";e.exports={actionType:a}}),null);
__d("AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.SHOW_CLOSE_UNSAVED_CANVAS_DIALOG";e.exports={actionType:a}}),null);
__d("AdsCanvasSwitchElementTypeActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.SWITCH_ELEMENT_TYPE";e.exports={actionType:a}}),null);
__d("AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.INLINE.TOGGLE_HEADER";e.exports={actionType:a}}),null);
__d("AdsCanvasEditorEnums",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SAVED:0,SAVING:1,UNSAVED:2});c=b("keyMirror")({NONE:null,WARNING:null,ERROR:null});d=b("keyMirror")({WEBSITE:null,NATIVE:null,CANVAS:null});f=b("keyMirror")({WHITE:null,BLACK:null,CUSTOM:null});b=b("keyMirror")({FACEBOOK:null,MOBILE_SITE:null,INSTAGRAM:null});e.exports={DocumentThemeEnum:f,ErrorTypeEnum:c,SaveStateEnum:a,LinkDestinationEnum:d,PreviewEnum:b}}),null);
__d("AdsIXBuilderDisplayConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";e.exports={IX_BUILDER_DEFAULT_TITLE:g._("Untitled Instant Experience"),IX_BUILDER_WELCOME_SCREEN:{header:g._("Build an Instant Experience"),description:g._("Instant Experiences give you more space to tell people about your business or brand. Combine photos and videos in different ways to create a full-screen landing page that loads instantly."),open_blank_button:g._("Open blank template")}}}),null);
__d("AdsCanvasDocumentDataLoader",["AdsGraphAPI","CanvasDataUtils","GraphAPIFieldUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.getDocument=function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:b("CanvasDataUtils").getFieldsForPagesCanvasList(),summary:!0})};a.prototype.getLinkedCanvases=function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:b("GraphAPIFieldUtils").getFieldWithSubfields("linked_documents",b("CanvasDataUtils").getFieldsForPagesCanvasList()),summary:!0})};a.prototype.getDocumentElements=function(a){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a).get({fields:["body_elements{id}"],summary:!0})};a.prototype.createDocument=function(a,c,d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvases").post(babelHelpers["extends"]({},a.toAPI(),{is_hidden:d,source:a.getSource()}))};a.prototype.createDynamicDocument=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvases").post({child_document_ids:a})};a.prototype.updateDocument=function(a,c,d){return b("AdsGraphAPI").get(e.id).object("rich_media_document",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{is_published:c,is_hidden:d,should_publish_linked_documents:c}))};function a(){}e.exports=new a()}),null);
__d("RichMediaRichFormatText",["ContentState","decodeBlocks","encodeBlocks","immutable","RichMediaEditorConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=b("immutable").Record;var h=b("RichMediaEditorConstants").EDITOR_FONT_FAMILIES,i=b("RichMediaEditorConstants").EDITOR_LINE_HEIGHT,j=b("RichMediaEditorConstants").EDITOR_DEFAULT_LINE_HEIGHT;c={id:"",composedText:{entityMap:{},blocks:[]},textAlignment:"center",textColor:"#000",fontSize:15,fontFamily:h[0],lineHeight:j};d=a(c);g=babelHelpers.inherits(k,d);g&&g.prototype;k.create=function(a,c,d,e,f,g){return new k({composedText:b("encodeBlocks")(a),textAlignment:c,textColor:d,fontSize:e,fontFamily:f,lineHeight:g})};k.createDefault=function(){return k.create(b("ContentState").createFromText(""),"center","#777",15,h[0],j)};k.createFromObject=function(a){var b=a.fontFamily;h.indexOf(b)===-1&&(b=h[0]);var c=a.lineHeight;i.indexOf(c)===-1&&(c=j);return new k({composedText:a.composedText,textAlignment:a.textAlignment,textColor:a.textColor,fontSize:a.fontSize,fontFamily:b,lineHeight:c})};k.createFromAdAsset=function(a){return k.create(b("ContentState").createFromText(a),"center","#000",15,h[0],j)};k.createFromBundle=function(a,c){c=c==="item_headline"?"#90949c":"#000";return k.create(b("ContentState").createFromText(a),"center",c,16,h[0],j)};k.getPlainTextFromComposedText=function(a){a=b("decodeBlocks")(a.blocks,a.entityMap);return a.getPlainText()};function k(){g.apply(this,arguments)}e.exports=k}),null);
__d("RichMediaEditorUtil",["ads-lib-urllib"],(function(a,b,c,d,e,f){"use strict";var g={isValidURL:function(a){return b("ads-lib-urllib").isUrl(a)||g.isFBDeeplink(a)},normalizeURL:function(a){return b("ads-lib-urllib").normalize(a)},isValidDeeplink:function(a){return!0},isFBDeeplink:function(a){return/^fb:\/\/.*$/.test(a)},getURLDomain:function(a){return b("ads-lib-urllib").getDomain(a)}};e.exports=g}),null);
__d("RichMediaElementValidationUtil",["AdsCanvasEditorEnums"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasEditorEnums").LinkDestinationEnum;a={validateForAppstoreDestination:function(a,b){var c=Array.isArray(b)?b.length:b.count();for(var d=0;d<c;d++){var e=Array.isArray(b)?b[d]:b.get(d);if(e===a)break;if(e.destination===g.NATIVE&&e.link&&a.destination===g.NATIVE&&a.link&&e.link!==a.link)return{errorMsg:"App store URLs should be same",isValid:!1}}return{errorMsg:"",isValid:!0}}};e.exports=a}),null);
__d("RichMediaEditorUploader",["ActorURI","AsyncUploadRequest","XCanvasPhotoUploadController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={upload:function(a,c,d){__p&&__p();a=b("ActorURI").create(b("XCanvasPhotoUploadController").getURIBuilder().getURI(),a);a=new(b("AsyncUploadRequest"))(a).setAllowCrossOrigin(!1).setFiles({file:c});var e=[];e.push(a.subscribe("progress",function(a,b){a=b.getProgressEvent();a.lengthComputable&&d.onProgress(b.getFile(),a.loaded/a.total*100)}));e.push(a.subscribe("success",function(a,b){d.onSuccess(b.getFile(),b.getResponse())}));e.push(a.subscribe("error",function(a,b){d.onError(b.getFile())}));e.push(a.subscribe("complete",function(a,b){while(e.length)e.pop().unsubscribe()}));a.send();return a}};e.exports=a}),null);
__d("AdsCanvasInstagramErrors",["fbt"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=g._("Instagram Instant Experience Does Not Support Link to Instant Experience in Buttons");b=g._("Instant Experience Ads on Instagram Don't Support Mobile App Installation");c=g._("Instant Experience Ads on Instagram Don't Support 360 Videos");d=g._("Instant Experience Ads on Instagram Don't Support Languages That AppearRight-To-Left");f=g._("Manual Product Selection Isn't Supported on Instagram");var h=g._("Tabs Aren't Supported on Instagram"),i=function(a){return g._("Instant Experience Ads on Instagram Does Not Support {unsupported component type}",[g._param("unsupported component type",a)])};a={BUTTON_LINK_TO_CANVAS:a,BUTTON_MOBILE_APP_INSTALLATION:b,MANUAL_PRODUCT_SELECTION:f,MULTIPLE_TABS:h,TEXT_RIGHT_TO_LEFT:d,VIDEO_SPHERICAL_VIDEOS:c,getInstagramUnsupportedElementError:i};e.exports=a}),null);
__d("RichMediaElementTypeUtil",["fbt","RichMediaElementTypeConstant","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=b("RichMediaElementTypeConstant").RichMediaElementTypes,i={elementTypeNameMap:(a={},a[h.UNKNOWN]=g._("Default name").toString(),a[h.BUTTON]=g._("Button").toString(),a[h.RICH_TEXT]=g._("Rich Text").toString(),a[h.PHOTO]=g._("Photo").toString(),a[h.SCRUBBABLE_GIF]=g._("Scrubbable GIF").toString(),a[h.VIDEO]=g._("Video").toString(),a[h.ELEMENT_GROUP]=g._("Product").toString(),a[h.HEADER]=g._("Header").toString(),a[h.STORE_LOCATOR]=g._("Store Locator").toString(),a[h.OFFER]=g._("Offer").toString(),a[h.BUNDLE]=g._("Bundle").toString(),a[h.PRODUCT_LIST]=g._("Product List").toString(),a[h.LEAD_GEN_FORM]=g._("Contact Form").toString(),a[h.FOOTER]=g._("Footer").toString(),a[h.CAROUSEL]=g._("Carousel").toString(),a[h.TEMPLATE_VIDEO]=g._("Automatic Video").toString(),a[h.DYNAMIC_PRODUCT_SET]=g._("Product").toString(),a[h.DYNAMIC_PHOTO]=g._("Photo").toString(),a),getInstagramSupportedComponents:function(a){return b("immutable").Set([h.PHOTO,h.VIDEO,h.RICH_TEXT,h.BUTTON,h.HEADER,h.FOOTER,h.ELEMENT_GROUP,h.PRODUCT_LIST,h.CAROUSEL,h.BUNDLE,h.TEMPLATE_VIDEO])},isInstagramSupportedComponent:function(a,b){return i.getInstagramSupportedComponents(b).has(a.elementType)}};e.exports=i}),null);
__d("RichMediaHeaderElement",["fbt","CanvasColorUtils","InstantShoppingDocumentElementType","RichMediaEditorConstants","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RichMediaEditorConstants").EDITOR_DEFAULT_PADDING;a=b("immutable").Record;c={id:"",name:"",type:b("InstantShoppingDocumentElementType").HEADER,index:0,expanded:!1,advancedExpanded:!1,padding:{paddingTop:i,paddingBottom:i},fixToTop:!0,photo:null,backgroundColor:null,uploadStatus:null};d=a(c);h=babelHelpers.inherits(j,d);h&&h.prototype;j.create=function(a,c,d,e,f,g,h,i){return new j({name:a,type:b("InstantShoppingDocumentElementType").HEADER,expanded:d,advancedExpanded:e,padding:f,index:c,fixToTop:!0,photo:g,backgroundColor:h,uploadStatus:i})};j.createDefault=function(a){return j.create(g._("Header").toString(),a,!0,!1,{paddingTop:i,paddingBottom:i},null,"FFFFFFFF",null)};j.createFromObject=function(a){return j.create(a.name,a.index,a.expanded,a.advancedExpanded,a.padding,a.photo,a.backgroundColor)};j.createFromPayloadAndElementField=function(a,c){a.photo&&(a.photo.src=b("getByPath")(c,["element","child_elements","0","element","photo","source"]));return j.create(a.name,a.index,a.expanded,a.advancedExpanded,a.padding,a.photo,a.backgroundColor)};j.validate=function(a){if(!a.photo)return{isValid:!1,errorMsg:g._("Missing photo")};if(!a.backgroundColor)return{isValid:!1,errorMsg:g._("Missing background color")};return a.uploadStatus&&a.uploadStatus.isUploading!==!1?{isValid:!1,errorMsg:""}:{isValid:!0,errorMsg:""}};j.prototype.isOpaque=function(){if(!this.backgroundColor)return!0;var a=b("CanvasColorUtils").convertARGBToColorWithOpacity(this.backgroundColor);return a.opacity===100?!0:!1};function j(){h.apply(this,arguments)}e.exports=j}),null);
__d("RichMediaElementUtil",["fbt","AdsAccountCapabilities","AdsAccountUtils","AdsAppUtils","AdsCanvasBundleElement","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasInstagramErrors","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasStoreLocatorElement","AdsCanvasTemplateVideoElement","AdsCanvasTextElement","AdsCanvasVideoElement","RichMediaElementTypeConstant","RichMediaElementTypeUtil","RichMediaHeaderElement","RichMediaRichFormatText","UnicodeBidi","isAdsCanvasLink"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RichMediaElementTypeConstant").RichMediaElementTypes,i={getDefaultElementName:function(a){return b("RichMediaElementTypeUtil").elementTypeNameMap[a]?b("RichMediaElementTypeUtil").elementTypeNameMap[a]:g._("Untitled").toString()},validateElements:function(a,c){var d=!0,e=[];a.map(function(f){var g=i.validateElement(f,a,c);if(!g.isValid){d=!1;f=b("RichMediaElementTypeUtil").elementTypeNameMap[f.elementType];e.push({element:f,errorMsg:g.errorMsg})}});return{isValid:d,errorMsg:JSON.stringify(e)}},validateElement:function(a,c,d){__p&&__p();switch(a.elementType){case h.BUTTON:return b("AdsCanvasButtonElement").validate(a,c);case h.CAROUSEL:return b("AdsCanvasCarouselElement").validate(a,c);case h.ELEMENT_GROUP:return b("AdsCanvasProductSetElement").validate(a,d);case h.FOOTER:return b("AdsCanvasFooterElement").validate(a,c);case h.HEADER:return b("AdsCanvasHeaderElement").validate(a);case h.PHOTO:return b("AdsCanvasPhotoElement").validate(a,c);case h.PRODUCT_LIST:return b("AdsCanvasProductListElement").validate(a,d);case h.RICH_TEXT:return b("AdsCanvasTextElement").validate(a);case h.STORE_LOCATOR:return b("AdsCanvasStoreLocatorElement").validate(a);case h.TEMPLATE_VIDEO:return b("AdsCanvasTemplateVideoElement").validate(a,d);case h.VIDEO:return b("AdsCanvasVideoElement").validate(a);case h.BUNDLE:return b("AdsCanvasBundleElement").validate(a)}return{isValid:!0,errorMsg:""}},validateElementsForInstagram:function(a){var c=!0,d=[];a.map(function(a){var e=i.validateElementForInstagram(a);if(!e.isValid){c=!1;a=b("RichMediaElementTypeUtil").elementTypeNameMap[a.elementType];d.push({element:a,errorMsg:e.errorMsg})}});return{isValid:c,errorMsg:JSON.stringify(d)}},getValidationErrorsForInstagram:function(a,c,d){var e=[];if(c){c={isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").MULTIPLE_TABS};e.push(c)}a.map(function(a){a=i.validateElementForInstagram(a,d);a.isValid||e.push(a)});return e},validateElementForInstagram:function(a,b){a=i.validateElementComponentLevelErrorForInstagram(a,b);return!a.isValid?a:{isValid:!0,errorMsg:""}},validateElementComponentLevelErrorForInstagram:function(a,c){__p&&__p();var d=c&&b("AdsAccountUtils").hasCapability(c,b("AdsAccountCapabilities").CAN_CREATE_INSTAGRAM_FEED_COLLECTION_ADS);if(!b("RichMediaElementTypeUtil").isInstagramSupportedComponent(a,c))return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").getInstagramUnsupportedElementError(b("RichMediaElementTypeUtil").elementTypeNameMap[a.elementType])};if(a.elementType===h.RICH_TEXT){c=i.validateRTLForInstagram(a);if(!c.isValid)return c}else if(a.elementType===h.VIDEO){c=i.validate360VideoForInstagram(a);if(!c.isValid)return c}else if(a.elementType===h.BUTTON){c=i.validateButtonForInstagram(a);if(!c.isValid)return c}else if(a.elementType===h.PRODUCT_LIST&&d!==!0)return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").MANUAL_PRODUCT_SELECTION};return{isValid:!0,errorMsg:""}},validateRTLForInstagram:function(a){a=b("RichMediaRichFormatText").getPlainTextFromComposedText(a.richFormatText.composedText);return b("UnicodeBidi").isDirectionRTL(a)?{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").TEXT_RIGHT_TO_LEFT}:{isValid:!0,errorMsg:""}},validate360VideoForInstagram:function(a){if(a.video){a=a.video.spherical;if(a)return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").VIDEO_SPHERICAL_VIDEOS}}return{isValid:!0,errorMsg:""}},validateButtonForInstagram:function(a){a=a.link;if(b("AdsAppUtils").getMobileAppStoreNameFromUrl(a))return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").BUTTON_MOBILE_APP_INSTALLATION};else if(b("isAdsCanvasLink")(a))return{isValid:!1,errorMsg:b("AdsCanvasInstagramErrors").BUTTON_LINK_TO_CANVAS};return{isValid:!0,errorMsg:""}},getFixToBottomButtonElement:function(a){if(a.length===0)return null;return a[a.length-1].elementType===h.BUTTON&&a[a.length-1].isFixedToBottom?a[a.length-1]:null},getHeaderElement:function(a){if(a.length===0)return null;return a[0].elementType===h.HEADER?b("RichMediaHeaderElement").createFromObject(a[0]):null},hasFixToTopHeaderElement:function(a){if(a.length===0)return!1;return a[0].elementType===h.HEADER?a[0].isOpaque():!1},isContentUploadingInElement:function(a){__p&&__p();if(a.uploadStatus)switch(a.elementType){case h.PHOTO:if(a.uploadStatus.isUploading)return!0;break;case h.VIDEO:if(a.uploadStatus.isUploading||a.uploadStatus.isEncoding)return!0;break;default:break}else if(a.elementType===h.CAROUSEL)return a.items.some(function(a){return a.uploadStatus&&a.uploadStatus.isUploading});return!1},getLinks:function(a){__p&&__p();var b=[];for(var c=0;c<a.length;c++){var d=a[c];switch(d.elementType){case h.PHOTO:b.push(d.link);break;case h.BUTTON:b.push(d.link);break;case h.CAROUSEL:for(var e=0;e<d.items.length;e++)b.push(d.items[e].link);break}}return b.filter(function(a){return!!a})},isValidColor:function(a){return/^[A-Fa-f0-9]{8}$/.test(a)||/^#[A-Fa-f0-9]{6}$/.test(a)}};e.exports=i}),null);
__d("RichMediaEditorActions",["AdsRichMediaEditorBackToMenuDataAction","AdsRichMediaEditorResetUnpublishedCanvasDataAction","AdsRichMediaEditorSetAddComponentDialogShownDataAction","AdsRichMediaEditorSetCanvasPageidDataAction","AdsRichMediaEditorSetCanvasSourceDataAction","AdsRichMediaEditorSetDialogCanvasDataAction","AdsRichMediaEditorSetDialogShownDataAction","AdsRichMediaEditorSetDocumentThemeDataAction","AdsRichMediaEditorSetDocumentUrlDialogShownDataAction","AdsRichMediaEditorSetInstagramValidationFailedDataAction","AdsRichMediaEditorSetPreviewFailedDataAction","AdsRichMediaEditorSetPreviewTypeDataAction","AdsRichMediaEditorSetSelectedCanvasDataAction","AdsRichMediaEditorSetSendingPreviewDataAction","AdsRichMediaEditorSetShowTemplatesDataAction","AdsRichMediaEditorSetSwipeToOpenEnabledDataAction","AdsRichMediaEditorSetUnpublishedCanvasDataAction","AdsRichMediaEditorSetValidationFailedDataAction","AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction","AdsRichMediaEditorToolbarPublishClickDataAction","AdsRichMediaEditorTriggerNuxTourDataAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports={setDocumentTheme:function(a,c,d){b("AdsRichMediaEditorSetDocumentThemeDataAction").dispatch({id:a,theme:c,themeType:d},{line:"42",module:"RichMediaEditorActions.js"})},setInstagramValidationFailed:function(a){b("AdsRichMediaEditorSetInstagramValidationFailedDataAction").dispatch({elementValidation:a},{line:"49",module:"RichMediaEditorActions.js"})},setPreviewFailed:function(a){b("AdsRichMediaEditorSetPreviewFailedDataAction").dispatch({previewFailed:a},{line:"54",module:"RichMediaEditorActions.js"})},setPreviewType:function(a){b("AdsRichMediaEditorSetPreviewTypeDataAction").dispatch({previewType:a},{line:"59",module:"RichMediaEditorActions.js"})},setSendingPreview:function(a){b("AdsRichMediaEditorSetSendingPreviewDataAction").dispatch({sendingPreview:a},{line:"64",module:"RichMediaEditorActions.js"})},setValidationFailed:function(a,c,d){c===void 0&&(c=0),d===void 0&&(d=!1),b("AdsRichMediaEditorSetValidationFailedDataAction").dispatch({validation:a,canvasIndex:c,isDocumentLevelError:d},{line:"73",module:"RichMediaEditorActions.js"})},setDialogShown:function(a,c){b("AdsRichMediaEditorSetDialogShownDataAction").dispatch({dialogID:a,dialogShown:c},{line:"80",module:"RichMediaEditorActions.js"})},setDialogCanvas:function(a,c){b("AdsRichMediaEditorSetDialogCanvasDataAction").dispatch({dialogID:a,canvas:c},{line:"86",module:"RichMediaEditorActions.js"})},setDocumentURLDialogShown:function(a){b("AdsRichMediaEditorSetDocumentUrlDialogShownDataAction").dispatch({dialogShown:a},{line:"92",module:"RichMediaEditorActions.js"})},toggleDocumentDebugPaneShown:function(){b("AdsRichMediaEditorToggleDocumentDebugPaneShownDataAction").dispatch({},{line:"97",module:"RichMediaEditorActions.js"})},triggerNuxTour:function(a){b("AdsRichMediaEditorTriggerNuxTourDataAction").dispatch({shown:a},{line:"100",module:"RichMediaEditorActions.js"})},setAddComponentDialogShown:function(a){b("AdsRichMediaEditorSetAddComponentDialogShownDataAction").dispatch({dialogShown:a},{line:"105",module:"RichMediaEditorActions.js"})},setUnpublishedCanvas:function(a){b("AdsRichMediaEditorSetUnpublishedCanvasDataAction").dispatch({unpublishedCanvas:a},{line:"110",module:"RichMediaEditorActions.js"})},resetUnpublishedCanvas:function(){b("AdsRichMediaEditorResetUnpublishedCanvasDataAction").dispatch({},{line:"115",module:"RichMediaEditorActions.js"})},setSelectedCanvas:function(a){b("AdsRichMediaEditorSetSelectedCanvasDataAction").dispatch({selectedCanvas:a},{line:"118",module:"RichMediaEditorActions.js"})},setShowTemplates:function(a){b("AdsRichMediaEditorSetShowTemplatesDataAction").dispatch({showTemplates:a},{line:"123",module:"RichMediaEditorActions.js"})},backToMenu:function(){b("AdsRichMediaEditorBackToMenuDataAction").dispatch({},{line:"128",module:"RichMediaEditorActions.js"})},setCanvasSource:function(a){b("AdsRichMediaEditorSetCanvasSourceDataAction").dispatch({source:a},{line:"131",module:"RichMediaEditorActions.js"})},setCanvasPageId:function(a){b("AdsRichMediaEditorSetCanvasPageidDataAction").dispatch({pageId:a},{line:"136",module:"RichMediaEditorActions.js"})},setSwipeToOpenEnabled:function(a){b("AdsRichMediaEditorSetSwipeToOpenEnabledDataAction").dispatch({value:a},{line:"141",module:"RichMediaEditorActions.js"})},toolbarPublishClick:function(a){b("AdsRichMediaEditorToolbarPublishClickDataAction").dispatch({elementValidation:a},{line:"146",module:"RichMediaEditorActions.js"})}}}),null);
__d("AdsCanvasElementDataLoader",["Promise","AdsCanvasTemplateVideoUtils","AdsGraphAPI","AdsLeadGenFormEditorDataManager","CanvasDataUtils","RichMediaElementTypeConstant","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").List,h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a.prototype.getButtonElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_button",a).get({fields:b("CanvasDataUtils").getFieldsForButtonElement(),summary:!0})};a.prototype.getCarouselElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_carousel",a).get({fields:b("CanvasDataUtils").getFieldsForCarouselElement(),summary:!0})};a.prototype.getDynamicPhotoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_photo",a).get({fields:b("CanvasDataUtils").getFieldsForDynamicPhotoElement(),summary:!0})};a.prototype.getDynamicProductSetElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_product_set",a).get({fields:b("CanvasDataUtils").getFieldsForDynamicProductSetElement(),summary:!0})};a.prototype.getElementType=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_element",a).get({fields:b("CanvasDataUtils").getFieldsForElementType(),summary:!0})};a.prototype.getFooterElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_footer",a).get({fields:b("CanvasDataUtils").getFieldsForFooterElement(),summary:!0})};a.prototype.getHeaderElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_header",a).get({fields:b("CanvasDataUtils").getFieldsForHeaderElement(),summary:!0})};a.prototype.getPhotoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_photo",a).get({fields:b("CanvasDataUtils").getFieldsForPhotoElement(),summary:!0})};a.prototype.getProductListElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_list",a).get({fields:b("CanvasDataUtils").getFieldsForProductListElement(),summary:!0})};a.prototype.getProductSetElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_set",a).get({fields:b("CanvasDataUtils").getFieldsForProductSetElement(),summary:!0})};a.prototype.getStoreLocatorElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_store_locator",a).get({fields:b("CanvasDataUtils").getFieldsForStoreLocatorElement(),summary:!0})};a.prototype.getTemplateVideoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_template_video",a).get({fields:b("CanvasDataUtils").getFieldsForTemplateVideoElement(),summary:!0})};a.prototype.getTextElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_text",a).get({fields:b("CanvasDataUtils").getFieldsForTextElement(),summary:!0})};a.prototype.getVideoElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_video",a).get({fields:b("CanvasDataUtils").getFieldsForVideoElement(),summary:!0})};a.prototype.getLeadFormElement=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_lead_form",a).get({fields:b("CanvasDataUtils").getFieldsForLeadFormElement(),summary:!0})};a.prototype.createElement=function(a,c,d){__p&&__p();switch(a.getElementType()){case h.BUTTON:return this.$1(a,c);case h.CAROUSEL:return this.$2(a,c);case h.DYNAMIC_PHOTO:return this.$3(a,c);case h.DYNAMIC_PRODUCT_SET:return this.$4(a,c);case h.ELEMENT_GROUP:return this.$5(a,c);case h.FOOTER:return this.$6(a,c);case h.HEADER:return this.$7(a,c);case h.LEAD_GEN_FORM:d==null&&(d=a.form_data);return this.$8(a,c,b("nullthrows")(d));case h.PRODUCT_LIST:return this.$9(a,c);case h.PHOTO:return this.$10(a,c);case h.RICH_TEXT:return this.$11(a,c);case h.STORE_LOCATOR:return this.$12(a,c);case h.TEMPLATE_VIDEO:return this.$13(a,c);case h.VIDEO:return this.$14(a,c);default:throw new Error("Element type "+a.getType()+" not supported.")}};a.prototype.$1=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_button:a.toAPI()})};a.prototype.$8=function(a,c,d){var f=null;switch(a.write_type){case"save":f=b("AdsLeadGenFormEditorDataManager").saveFormForCanvas(null,d,c);break;default:f=b("AdsLeadGenFormEditorDataManager").publishFormForCanvas(null,d.get("id"),d,c)}return f.then(function(d){var f=d.id;return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_lead_form:babelHelpers["extends"]({},a.toAPI(),{leadgen_data_id:f})}).then(function(a){return{id:a.id,leadgen_data_id:f}})})};a.prototype.$2=function(a,c){return b("Promise").all(a.getChildElements().map(function(a){return this.createElement(a,c)}.bind(this))).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_carousel:babelHelpers["extends"]({},a.toAPI(),{child_elements:d.map(function(a){return a.id})})})})};a.prototype.$3=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_dynamic_photo:a.toAPI()})};a.prototype.$4=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_dynamic_product_set:a.toAPI()})};a.prototype.$6=function(a,c){return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?this.createElement(a,c):this.updateElement(a,c)}.bind(this))).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_footer:babelHelpers["extends"]({},a.toAPI(),{child_elements:g(d.map(function(b,c){return b.id?b.id:a.getChildElements()[c].getID()}))})})})};a.prototype.$7=function(a,c){return b("Promise").all(a.getChildElements().map(function(a){return this.createElement(a,c)}.bind(this))).then(function(d){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_header:babelHelpers["extends"]({},a.toAPI(),{fb_child_elements:g(d.map(function(a){return a.id}))})})})};a.prototype.$10=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_photo:a.toAPI()})};a.prototype.$9=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_product_list:a.toAPI()})};a.prototype.$5=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_product_set:a.toAPI()})};a.prototype.$12=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_store_locator:a.toAPI()})};a.prototype.$11=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_text:a.toAPI()})};a.prototype.$13=function(a,c){c=b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_template_video:a.toAPI()});return b("AdsCanvasTemplateVideoUtils").wrapWithVideoCreationPromise(c)};a.prototype.$14=function(a,c){return b("AdsGraphAPI").get(e.id).object("page",c).edge("canvas_elements").post({canvas_video:a.toAPI()})};a.prototype.updateElement=function(a,c,d){__p&&__p();switch(a.getElementType()){case h.BUTTON:return this.$15(a);case h.CAROUSEL:return this.$16(a,c);case h.DYNAMIC_PHOTO:return this.$17(a);case h.DYNAMIC_PRODUCT_SET:return this.$18(a);case h.ELEMENT_GROUP:return this.$19(a);case h.FOOTER:return this.$20(a,c);case h.HEADER:return this.$21(a,c);case h.LEAD_GEN_FORM:d==null&&(d=a.form_data);return this.$22(a,c,b("nullthrows")(d));case h.PHOTO:return this.$23(a);case h.PRODUCT_LIST:return this.$24(a);case h.RICH_TEXT:return this.$25(a);case h.STORE_LOCATOR:return this.$26(a);case h.TEMPLATE_VIDEO:return this.$27(a);case h.VIDEO:return this.$28(a);default:throw new Error("Element type "+a.getElementType()+" not supported.")}};a.prototype.$15=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_button",a.getID()).post(a.toAPI())};a.prototype.$17=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_photo",a.getID()).post(a.toAPI())};a.prototype.$18=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_dynamic_product_set",a.getID()).post(a.toAPI())};a.prototype.$22=function(a,c,d){var f=null;switch(a.write_type){case"save":f=b("AdsLeadGenFormEditorDataManager").saveFormForCanvas(null,d,c);break;default:f=b("AdsLeadGenFormEditorDataManager").publishFormForCanvas(null,d.get("id"),d,c)}return f.then(function(c){var d=c.id;return b("AdsGraphAPI").get(e.id).object("canvas_lead_form",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{leadgen_data_id:d})).then(function(a){return{success:a.success,leadgen_data_id:d}})})};a.prototype.$16=function(a,c){return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?this.createElement(a,c):this.updateElement(a,c)}.bind(this))).then(function(c){return b("AdsGraphAPI").get(e.id).object("canvas_carousel",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{child_elements:g(c.map(function(b,c){return b.id?b.id:a.getChildElements()[c].get("id")}))}))})};a.prototype.$20=function(a,c){return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?this.createElement(a,c):this.updateElement(a,c)}.bind(this))).then(function(c){return b("AdsGraphAPI").get(e.id).object("canvas_footer",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{child_elements:g(c.map(function(b,c){return b.id?b.id:a.getChildElements()[c].getID()}))}))})};a.prototype.$21=function(a,c){return b("Promise").all(a.getChildElements().map(function(a){return b("CanvasDataUtils").isNewElement(a)?this.createElement(a,c):this.updateElement(a,c)}.bind(this))).then(function(c){return b("AdsGraphAPI").get(e.id).object("canvas_header",a.getID()).post(babelHelpers["extends"]({},a.toAPI(),{fb_child_elements:g(c.map(function(b,c){return b.id?b.id:a.getChildElements()[c].getID()}))}))})};a.prototype.$23=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_photo",a.getID()).post(a.toAPI())};a.prototype.$24=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_list",a.getID()).post(a.toAPI())};a.prototype.$19=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_product_set",a.getID()).post(a.toAPI())};a.prototype.$26=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_store_locator",a.getID()).post(a.toAPI())};a.prototype.$25=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_text",a.getID()).post(a.toAPI())};a.prototype.$27=function(a){var c=b("AdsGraphAPI").get(e.id).object("canvas_template_video",a.getID()).post(a.toAPI());return b("AdsCanvasTemplateVideoUtils").wrapWithVideoUpdatePromise(c,a.getID())};a.prototype.$28=function(a){return b("AdsGraphAPI").get(e.id).object("canvas_video",a.getID()).post(a.toAPI())};function a(){}e.exports=new a()}),null);
__d("AdsCanvasElementDataDispatcher",["Promise","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasDynamicPhotoElement","AdsCanvasDynamicProductSetElement","AdsCanvasElementBase","AdsCanvasElementCreateErrorDataAction","AdsCanvasElementCreateSuccessDataAction","AdsCanvasElementDataLoader","AdsCanvasElementLoadErrorDataAction","AdsCanvasElementLoadSuccessDataAction","AdsCanvasElementSaveErrorDataAction","AdsCanvasElementSaveSuccessDataAction","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasLeadFormElement","AdsCanvasPhotoElement","AdsCanvasProductListElement","AdsCanvasProductSetElement","AdsCanvasStoreLocatorElement","AdsCanvasTemplateVideoElement","AdsCanvasTextElement","AdsCanvasVideoElement","CanvasDataUtils","RichMediaElementTypeConstant","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasElementBase").AdsCanvasUnknownElement,h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a.prototype.getButtonElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getButtonElement(a),function(c){c=b("AdsCanvasButtonElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"66",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"72",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getCarouselElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getCarouselElement(a),function(c){c=b("AdsCanvasCarouselElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"86",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"92",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getDynamicPhotoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getDynamicPhotoElement(a),function(c){c=b("AdsCanvasDynamicPhotoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"106",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"112",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getDynamicProductSetElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getDynamicProductSetElement(a),function(c){c=b("AdsCanvasDynamicProductSetElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"126",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"132",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getLeadFormElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getLeadFormElement(a),function(c){c=b("AdsCanvasLeadFormElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"146",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"152",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getElement=function(a){__p&&__p();b("promiseDone")(b("AdsCanvasElementDataLoader").getElementType(a),function(c){__p&&__p();switch(c.element_type){case h.BUTTON:this.getButtonElement(a);break;case h.CAROUSEL:this.getCarouselElement(a);break;case h.DYNAMIC_PHOTO:this.getDynamicPhotoElement(a);break;case h.DYNAMIC_PRODUCT_SET:this.getDynamicProductSetElement(a);break;case h.ELEMENT_GROUP:this.getProductSetElement(a);break;case h.FOOTER:this.getFooterElement(a);break;case h.HEADER:this.getHeaderElement(a);break;case h.PHOTO:this.getPhotoElement(a);break;case h.PRODUCT_LIST:this.getProductListElement(a);break;case h.RICH_TEXT:this.getTextElement(a);break;case h.STORE_LOCATOR:this.getStoreLocatorElement(a);break;case h.TEMPLATE_VIDEO:this.getTemplateVideoElement(a);break;case h.VIDEO:this.getVideoElement(a);break;case h.LEAD_GEN_FORM:this.getLeadFormElement(a);break;default:b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:new g()},{line:"208",module:"AdsCanvasElementDataDispatcher.js"});break}}.bind(this),function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"216",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getFooterElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getFooterElement(a),function(c){c=b("AdsCanvasFooterElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"230",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"236",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getHeaderElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getHeaderElement(a),function(c){c=b("AdsCanvasHeaderElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"250",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"256",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getPhotoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getPhotoElement(a),function(c){c=b("AdsCanvasPhotoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"269",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"275",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getProductListElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getProductListElement(a),function(c){c=b("AdsCanvasProductListElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"289",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"295",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getProductSetElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getProductSetElement(a),function(c){c=b("AdsCanvasProductSetElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"309",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"315",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getStoreLocatorElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getStoreLocatorElement(a),function(c){c=b("AdsCanvasStoreLocatorElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"329",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"335",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getTemplateVideoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getTemplateVideoElement(a),function(c){c=b("AdsCanvasTemplateVideoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"349",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"355",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getTextElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getTextElement(a),function(c){c=b("AdsCanvasTextElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"369",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"375",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.getVideoElement=function(a){b("promiseDone")(b("AdsCanvasElementDataLoader").getVideoElement(a),function(c){c=b("AdsCanvasVideoElement").fromAPI(c);b("AdsCanvasElementLoadSuccessDataAction").dispatch({elementID:a,canvasElement:c},{line:"389",module:"AdsCanvasElementDataDispatcher.js"})},function(c){b("AdsCanvasElementLoadErrorDataAction").dispatch({elementID:a,error:c},{line:"395",module:"AdsCanvasElementDataDispatcher.js"})})};a.prototype.saveElements=function(a,c,d){return b("Promise").all(a.map(function(a){return this.saveElement(a,c,d)}.bind(this)).toArray())};a.prototype.saveElement=function(a,c,d){return b("CanvasDataUtils").isNewElement(a)?this.createElement(a,c,d):this.updateElement(a,c,d)};a.prototype.createElement=function(a,c,d){return b("AdsCanvasElementDataLoader").createElement(a,c,d).then(function(c){a=a.set("id",c.id);var d=c.leadgen_data_id;a.elementType===h.LEAD_GEN_FORM&&d!==null&&(a=a.set("leadgen_data_id",d));b("AdsCanvasElementCreateSuccessDataAction").dispatch({elementID:c.id,canvasElement:a},{line:"444",module:"AdsCanvasElementDataDispatcher.js"});return a})["catch"](function(c){c=new Error(c.error_user_title);b("AdsCanvasElementCreateErrorDataAction").dispatch({elementID:a.getID(),error:c},{line:"452",module:"AdsCanvasElementDataDispatcher.js"});throw c})};a.prototype.updateElement=function(a,c,d){return b("AdsCanvasElementDataLoader").updateElement(a,c,d).then(function(c){c=c.leadgen_data_id;a.elementType===h.LEAD_GEN_FORM&&c!==null&&(a=a.set("leadgen_data_id",c));b("AdsCanvasElementSaveSuccessDataAction").dispatch({elementID:a.getID(),canvasElement:a},{line:"478",module:"AdsCanvasElementDataDispatcher.js"});return a})["catch"](function(c){c=new Error(c.error_user_title);b("AdsCanvasElementSaveErrorDataAction").dispatch({elementID:a.getID(),error:c},{line:"486",module:"AdsCanvasElementDataDispatcher.js"});throw c})};function a(){}e.exports=new a()}),null);
__d("AdsCanvasDocumentDataDispatcher",["Promise","AdsCanvasDefaultNewDocumentID","AdsCanvasDocument","AdsCanvasDocumentCreateErrorDataAction","AdsCanvasDocumentCreateSuccessDataAction","AdsCanvasDocumentDataLoader","AdsCanvasDocumentDuplicateErrorDataAction","AdsCanvasDocumentDuplicateSuccessDataAction","AdsCanvasDocumentLoadErrorDataAction","AdsCanvasDocumentLoadSuccessDataAction","AdsCanvasDocumentSaveDynamicCanvasErrorAction","AdsCanvasDocumentSaveErrorDataAction","AdsCanvasDocumentSaveSuccessDataAction","AdsCanvasElementDataDispatcher","AdsCanvasElementStore","AdsCanvasInlineBuilderUtils","CanvasDataUtils","RichMediaElementTypeConstant","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes,h=b("immutable").List;a.prototype.getDocument=function(a){b("promiseDone")(b("AdsCanvasDocumentDataLoader").getDocument(a),function(c){c=b("AdsCanvasDocument").fromAPI(c);b("AdsCanvasDocumentLoadSuccessDataAction").dispatch({canvasDocument:c,canvasID:a},{line:"46",module:"AdsCanvasDocumentDataDispatcher.js"})},function(c){b("AdsCanvasDocumentLoadErrorDataAction").dispatch({canvasID:a,error:c},{line:"52",module:"AdsCanvasDocumentDataDispatcher.js"})})};a.prototype.saveDocument=function(a,c,d,e,f){b("promiseDone")(b("AdsCanvasElementDataDispatcher").saveElements(c,d,f),function(c){var f=function(a){e(a.toOldAPI())};a=a.setElements(h(c));b("CanvasDataUtils").isNewDocument(a)?b("promiseDone")(this.createDocument(a,d,!1),f):b("promiseDone")(this.updateDocument(a,!1,!1),f)}.bind(this),function(c){b("CanvasDataUtils").isNewDocument(a)?b("AdsCanvasDocumentCreateErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"97",module:"AdsCanvasDocumentDataDispatcher.js"}):b("AdsCanvasDocumentSaveErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"102",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(c)})};a.prototype.saveInlineDocument=function(a,c,d,e,f,g,i,j,k){b("promiseDone")(b("AdsCanvasElementDataDispatcher").saveElements(c,e,k),function(c){var d=function(a){f(a.id,a.canvasAdSettings)},k=function(a){return g(a)};a=a.setElements(h(c));b("CanvasDataUtils").isNewDocument(a)?b("promiseDone")(this.createDocument(a,e,!1),d,k):b("promiseDone")(this.updateDocument(a,!1,!1,i,j),d,k)}.bind(this))};a.prototype.saveAllInlineDocuments=function(a,c,d,e,f,g,i,j){__p&&__p();b("promiseDone")(b("Promise").all(a.map(function(a,d){return b("AdsCanvasElementDataDispatcher").saveElements(c.get(d),e).then(function(c){a=a.setElements(h(c));return b("CanvasDataUtils").isNewDocument(a)?this.createDocument(a,e,!0,!1):this.updateDocument(a,!1,!0,i,j,!1)}.bind(this))}.bind(this)).toArray()).then(function(a){return b("AdsCanvasDocumentDataLoader").createDynamicDocument(a.map(function(a){return a.id}),e)}).then(function(a){a=a.id;return b("AdsCanvasDocumentDataLoader").getDocument(a)})["catch"](function(a){b("AdsCanvasDocumentSaveDynamicCanvasErrorAction").dispatch({error:a},{line:"208",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(a)}),function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentLoadSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id},{line:"215",module:"AdsCanvasDocumentDataDispatcher.js"});f(a.id,a.canvasAdSettings)})};a.prototype.publishDocument=function(a,c,d){a=a.set("isPublished",!0),b("promiseDone")(b("AdsCanvasDocumentDataLoader").getLinkedCanvases(a.id),function(c){var e=c.linked_documents.filter(function(a){return!a.is_published});c=function(a){d(a.toOldAPI(),e)};b("promiseDone")(this.updateDocument(a,!0,!1),c)}.bind(this))};a.prototype.createDocument=function(a,c,d,e){e===void 0&&(e=!0);return b("AdsCanvasDocumentDataLoader").createDocument(a,c,d).then(function(a){return b("AdsCanvasDocumentDataLoader").getDocument(a.id)}).then(function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentCreateSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id,setSavedState:e},{line:"269",module:"AdsCanvasDocumentDataDispatcher.js"});return a})["catch"](function(c){b("AdsCanvasDocumentCreateErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"277",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(c)})};a.prototype.updateDocument=function(a,c,d,e,f,g){g===void 0&&(g=!0);return b("AdsCanvasDocumentDataLoader").updateDocument(a,c,d).then(function(c){return b("AdsCanvasDocumentDataLoader").getDocument(a.id)}).then(function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentSaveSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id,adgroupIDs:e,hostID:f,setSavedState:g},{line:"302",module:"AdsCanvasDocumentDataDispatcher.js"});return a})["catch"](function(c){b("AdsCanvasDocumentSaveErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"312",module:"AdsCanvasDocumentDataDispatcher.js"});throw new Error(c)})};a.prototype.duplicateDocument=function(a,c,d,e){__p&&__p();var f=a.id;a=a.set("id",b("AdsCanvasDefaultNewDocumentID")).set("isPublished",!1);c=c.map(function(a,c){return b("AdsCanvasInlineBuilderUtils").scrapIDFromElement(a,c)});b("promiseDone")(b("Promise").all(c.map(function(a){return b("AdsCanvasElementDataDispatcher").saveElement(a,d)}).toArray()),function(c){a=a.setElements(h(c)),b("promiseDone")(b("AdsCanvasDocumentDataLoader").createDocument(a,d,!1).then(function(a){return b("AdsCanvasDocumentDataLoader").getDocument(a.id)}),function(a){a=b("AdsCanvasDocument").fromAPI(a);b("AdsCanvasDocumentDuplicateSuccessDataAction").dispatch({canvasDocument:a,canvasID:a.id,parentCanvasID:f,setSavedState:!0},{line:"354",module:"AdsCanvasDocumentDataDispatcher.js"});var d=c.find(function(a){return a.elementType===g.ELEMENT_GROUP});d=d?b("AdsCanvasElementStore").get(d.id).getValue():null;e(a,d)},function(c){b("AdsCanvasDocumentDuplicateErrorDataAction").dispatch({canvasID:a.getID(),error:c},{line:"371",module:"AdsCanvasDocumentDataDispatcher.js"})})})};function a(){}e.exports=new a()}),null);
__d("AdsCanvasCurrentCanvasIDStoreState",["AdsCanvasDefaultNewDocumentID","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").List;d=b("immutable").Record;g=babelHelpers.inherits(a,d({activeCanvasIndex:0,unusedManualTabsCanvasIDs:c([]),canvasIDs:c([b("AdsCanvasDefaultNewDocumentID")])}));g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsCanvasCurrentCanvasIDStore",["AddCanvasAddCanvasActionFlux","AdsCanvasBuilderLoadTemplateDataActionFlux","AdsCanvasBuilderOpenBlankCanvasDataActionFlux","AdsCanvasBuilderOpenNUXTourDataActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasCurrentCanvasIDStoreState","AdsCanvasDeleteDocumentActionFlux","AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasDisableMultiTabCanvasActionFlux","AdsCanvasDocumentCreateSuccessDataActionFlux","AdsCanvasDocumentDuplicateSuccessDataActionFlux","AdsCanvasEnableCategoryTabsActionFlux","AdsCanvasEnableMultiTabCanvasActionFlux","AdsCanvasInitDataActionFlux","AdsCanvasInlineTransformCanvasDataActionFlux","AdsCanvasLoadDynamicCanvasActionFlux","AdsCanvasReorderMultiCanvasActionFlux","AdsCanvasSelectCanvasActionFlux","AdsDataAtom","AdsRichMediaEditorSetValidationFailedDataActionFlux","FluxReduceStore","adsCreateStoreSelector","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("immutable").List,i=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxReduceStore"));g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return c=(a=g.constructor).call.apply(a,[this].concat(f)),this.getCurrentDocumentID=b("adsCreateStoreSelector")([this],function(){var a=this.getState(),c=a.activeCanvasIndex;a=a.canvasIDs;return b("nullthrows")(a.get(c))}.bind(this),e.id),this.getActiveCanvasIndex=b("adsCreateStoreSelector")([this],function(){return this.getState().activeCanvasIndex}.bind(this),e.id),this.getAllDocumentIDs=b("adsCreateStoreSelector")([this],function(){return this.getState().canvasIDs}.bind(this),e.id),this.hasMultiCanvas=b("adsCreateStoreSelector")([this],function(){return this.getState().canvasIDs.count()>1}.bind(this),e.id),this.hasUsedManualTabs=b("adsCreateStoreSelector")([this],function(){return this.getState().unusedManualTabsCanvasIDs.count()>=1}.bind(this),e.id),c}a.prototype.getInitialState=function(){return new(b("AdsCanvasCurrentCanvasIDStoreState"))()};a.prototype.__getActionTypes=function(){return i?[b("AddCanvasAddCanvasActionFlux").actionType,b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType,b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType,b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType,b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType,b("AdsCanvasDeleteDocumentActionFlux").actionType,b("AdsCanvasDisableCategoryTabsActionFlux").actionType,b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType,b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType,b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType,b("AdsCanvasEnableCategoryTabsActionFlux").actionType,b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType,b("AdsCanvasInitDataActionFlux").actionType,b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType,b("AdsCanvasLoadDynamicCanvasActionFlux").actionType,b("AdsCanvasReorderMultiCanvasActionFlux").actionType,b("AdsCanvasSelectCanvasActionFlux").actionType,b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsCanvasInitDataActionFlux").actionType:return c.canvasID==null?this.getInitialState():a.set("canvasIDs",h([c.canvasID])).set("activeCanvasIndex",0);case b("AdsCanvasLoadDynamicCanvasActionFlux").actionType:return a.set("canvasIDs",c.canvasIDs).set("activeCanvasIndex",0);case b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType:return a.set("canvasIDs",c.canvases.map(function(a){return a.id})).set("activeCanvasIndex",0);case b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType:case b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType:return!c.setSavedState?a:a.set("canvasIDs",h([c.canvasID])).set("activeCanvasIndex",0);case b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType:case b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType:case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:return this.getInitialState();case b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType:var d=a.canvasIDs.get(0);return a.set("canvasIDs",h([d])).set("activeCanvasIndex",0);case b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType:return a.set("canvasIDs",c.canvasDocuments.map(function(a){return a.id}));case b("AdsCanvasSelectCanvasActionFlux").actionType:return a.set("activeCanvasIndex",c.index);case b("AdsCanvasReorderMultiCanvasActionFlux").actionType:d=c.from;var e=c.to,f=a.canvasIDs,g=f.get(d);f=f.splice(d,1);f=f.splice(e,0,g);return a.set("canvasIDs",f);case b("AddCanvasAddCanvasActionFlux").actionType:return a.set("canvasIDs",a.canvasIDs.push(c.canvasDocument.id)).set("activeCanvasIndex",a.canvasIDs.count());case b("AdsCanvasDeleteDocumentActionFlux").actionType:c.index>0&&(a=a.set("activeCanvasIndex",a.activeCanvasIndex-1));return a.set("canvasIDs",a.canvasIDs.remove(c.index));case b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType:return a.set("activeCanvasIndex",c.canvasIndex);case b("AdsCanvasEnableCategoryTabsActionFlux").actionType:return a.set("unusedManualTabsCanvasIDs",a.canvasIDs.slice(1)).set("canvasIDs",a.canvasIDs.slice(0,1)).set("activeCanvasIndex",0);case b("AdsCanvasDisableCategoryTabsActionFlux").actionType:return c.removeTabs?a:a.set("canvasIDs",a.canvasIDs.concat(a.unusedManualTabsCanvasIDs)).set("unusedManualTabsCanvasIDs",h([]));default:return a}};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsCanvasCurrentDocumentSelector",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([].concat(b("AdsCanvasCurrentCanvasIDStore").getCurrentDocumentID.getStores(),[b("AdsCanvasDocumentStore")]),function(){return b("AdsCanvasDocumentStore").get(b("AdsCanvasCurrentCanvasIDStore").getCurrentDocumentID())},e.id+".selector");e.exports=a}),null);
__d("adsCanvasHasDynamicElementsSelector",["RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentSelector")],function(a){if(!a.hasValue())return!1;a=a.getValueEnforcing();return a.elements.some(function(a){return a.elementType===g.DYNAMIC_PRODUCT_SET})},{name:e.id+".adsCanvasHasDynamicElementsSelector"});e.exports=a}),null);
__d("adsCanvasHasTabsSelector",["AdsCanvasCurrentCanvasIDStore","adsCanvasHasDynamicElementsSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsCanvasCurrentCanvasIDStore").hasMultiCanvas,b("adsCanvasHasDynamicElementsSelector")],function(a,b){return a||b},{name:e.id+".adsCanvasHasTabsSelector"});e.exports=a}),null);
__d("adsCanvasShowBentoV2UISelector",["adsCanvasHasTabsSelector","adsCanvasInlineEditorIsStorefrontTemplateSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasHasTabsSelector"),b("adsCanvasInlineEditorIsStorefrontTemplateSelector")],function(a,b){return!a&&b},{name:e.id+".adsCanvasShowBentoV2Selector"});e.exports=a}),null);
__d("adsCanvasInlineEditorCurrentTemplateIDSelector",["adsCanvasCurrentDocumentSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsCanvasCurrentDocumentSelector")],function(a){if(!a.hasValue())return null;a=a.getValueEnforcing();return a.sourceTemplateID},{name:e.id+".selector"});e.exports=a}),null);
__d("adsCanvasInlineEditorIsStorefrontTemplateSelector",["adsCanvasInlineEditorCurrentTemplateIDSelector","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";var g="1932289657009030";a=b("adsCreateSelector")([b("adsCanvasInlineEditorCurrentTemplateIDSelector")],function(a){return a===g},{name:e.id+".selector"});e.exports=a}),null);
__d("AdsCanvasDocumentAddNewLifestyleComponentActionHandler",["AdsCanvasAddNewLifestyleComponentActionFlux","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType,mutate:function(a,c,d){d=c.get(a.canvasID).getValueEnforcing();return c.set(a.canvasID,b("LoadObject").withValue(d.set("elements",d.elements.splice(a.index,0,{elementType:g.PHOTO,id:a.lifestyleElement.id}))))}};e.exports=a}),null);
__d("AdsCanvasDocumentDisableCategoryTabsActionHandler",["AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasDocumentStoreTransformElementReducer"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasDisableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasDocumentStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasDocumentStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasDocumentEnableCategoryTabsActionHandler",["AdsCanvasDocumentStoreTransformElementReducer","AdsCanvasEnableCategoryTabsActionFlux","LoadObject","RichMediaElementTypeConstant"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasEnableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasDocumentStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){__p&&__p();var e=c;e=b("AdsCanvasDocumentStoreTransformElementReducer").mutate(a,c,d);var f=a.newHeaderElement;if(f!=null){c=d.canvasIDs;c.map(function(a){a=e.get(a).getValueEnforcing();e=e.set(a.id,b("LoadObject").withValue(a.set("elements",a.elements.unshift({elementType:g.HEADER,id:f.id}))))});return e}return e}};e.exports=a}),null);
__d("AdsCanvasDocumentInlineToggleLeadFormElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsDataAtom","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs]));return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs()}},mutate:function(a,c,d){__p&&__p();d=d.canvasIDs;d.map(function(d,e){e=c.get(d).getValueEnforcing();if(a.addLeadForm&&!e.getHasLeadFormElement())c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements.push({elementType:g.LEAD_GEN_FORM,id:b("guid")()})).set("swipeToOpenEnabled",!1)));else if(e.getHasLeadFormElement()){d=e.elements.findIndex(function(a){return a.elementType===g.LEAD_GEN_FORM});c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements["delete"](d)).set("swipeToOpenEnabled",!0)))}});return c}};e.exports=a}),null);
__d("AdsCanvasDocumentInlineToggleStoreLocatorElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasInlineToggleStoreLocatorElementActionFlux","AdsDataAtom","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs]));return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs()}},mutate:function(a,c,d){__p&&__p();d=d.canvasIDs;d.map(function(d,e){e=c.get(d).getValueEnforcing();if(a.addStoreLocator&&!e.getHasStoreLocatorElement())c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements.push({elementType:g.STORE_LOCATOR,id:b("guid")()}))));else if(e.getHasStoreLocatorElement()){d=e.elements.findIndex(function(a){return a.elementType===g.STORE_LOCATOR});c=c.set(e.id,b("LoadObject").withValue(e.set("elements",e.elements["delete"](d))))}});return c}};e.exports=a}),null);
__d("AdsCanvasDocumentSwitchElementTypeActionHandler",["AdsCanvasDocumentStoreTransformElementReducer","AdsCanvasSwitchElementTypeActionFlux"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasSwitchElementTypeActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasDocumentStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasDocumentStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasDocumentUnifiedBuilderToggleHeaderElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux","AdsDataAtom","AdsSelectorUtils","LoadObject","RichMediaElementTypeConstant","guid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs]));return{canvasIDs:b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs()}},mutate:function(a,c,d){__p&&__p();d=d.canvasIDs;var e=c;d.map(function(d,f){f=c.get(d).getValueEnforcing();if(a.addHeader&&!f.getHasHeaderElement())e=e.set(f.id,b("LoadObject").withValue(f.set("elements",f.elements.unshift({elementType:g.HEADER,id:b("guid")()}))));else if(f.getHasHeaderElement()){d=f.elements.findIndex(function(a){return a.elementType===g.HEADER});e=e.set(f.id,b("LoadObject").withValue(f.set("elements",f.elements["delete"](d))))}});return e}};e.exports=a}),null);
__d("AdsCanvasDocumentStoreActionHandlers",["AdsCanvasDocumentAddNewLifestyleComponentActionHandler","AdsCanvasDocumentDisableCategoryTabsActionHandler","AdsCanvasDocumentEnableCategoryTabsActionHandler","AdsCanvasDocumentInlineToggleLeadFormElementActionHandler","AdsCanvasDocumentInlineToggleStoreLocatorElementActionHandler","AdsCanvasDocumentSwitchElementTypeActionHandler","AdsCanvasDocumentUnifiedBuilderToggleHeaderElementActionHandler","createObjectBy"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("createObjectBy")([b("AdsCanvasDocumentAddNewLifestyleComponentActionHandler"),b("AdsCanvasDocumentDisableCategoryTabsActionHandler"),b("AdsCanvasDocumentEnableCategoryTabsActionHandler"),b("AdsCanvasDocumentInlineToggleLeadFormElementActionHandler"),b("AdsCanvasDocumentInlineToggleStoreLocatorElementActionHandler"),b("AdsCanvasDocumentSwitchElementTypeActionHandler"),b("AdsCanvasDocumentUnifiedBuilderToggleHeaderElementActionHandler")],function(a){return a.type});function a(a,b){b=b.action;var c=g[b.type];if(c){var d=c.genExtraData&&c.genExtraData(b,a);return c.mutate(b,a,d)}return a}e.exports={reduce:a}}),null);
__d("AdsCanvasDocumentStore",["invariant","AddCanvasAddCanvasActionFlux","AdsCanvasBuilderOpenBlankCanvasDataActionFlux","AdsCanvasBuilderOpenNUXTourDataActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasConstants","AdsCanvasDefaultNewDocumentID","AdsCanvasDisableMultiTabCanvasActionFlux","AdsCanvasDocument","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasDocumentCreateSuccessDataActionFlux","AdsCanvasDocumentDataDispatcher","AdsCanvasDocumentDuplicateSuccessDataActionFlux","AdsCanvasDocumentInitDuplicateDataActionFlux","AdsCanvasDocumentInitPublishDataActionFlux","AdsCanvasDocumentInitSaveDataActionFlux","AdsCanvasDocumentLoadErrorDataActionFlux","AdsCanvasDocumentLoadSuccessDataActionFlux","AdsCanvasDocumentReorderElementsDataActionFlux","AdsCanvasDocumentSaveSuccessDataActionFlux","AdsCanvasDocumentSetSupportInstagramActionFlux","AdsCanvasDocumentSetTitleDataActionFlux","AdsCanvasDocumentStoreActionHandlers","AdsCanvasElementDeleteDataActionFlux","AdsCanvasElementSwitchButtonPositionDataActionFlux","AdsCanvasEnableMultiTabCanvasActionFlux","AdsCanvasInitDataActionFlux","AdsCanvasInlineBuilderSaveAllCanvasesActionFlux","AdsCanvasInlineBuilderSaveCanvasDataActionFlux","AdsCanvasInlineTransformCanvasDataActionFlux","AdsCanvasResetCanvasDataActionFlux","AdsDataAtom","AdsDraftDraftPublishCompletedDataActionFlux","AdsRichMediaEditorBackToMenuDataActionFlux","AdsRichMediaEditorSetDocumentThemeDataActionFlux","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","CanvasDataUtils","CanvasUIProperty","FluxLoadObjectStore","LoadObject","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX,j=b("immutable").List;c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.getByID=b("adsCreateStoreThunkSelector")(this,this.get.bind(this)),c}a.prototype.getInitialState=function(){var a;return b("immutable").Map((a={},a[b("AdsCanvasDefaultNewDocumentID")]=b("LoadObject").withValue(new(b("AdsCanvasDocument"))()),a))};a.prototype.reduce=function(a,c){__p&&__p();var d=c.action,e,f,h,k,l,m,n,o,p,q,r;a=b("AdsCanvasDocumentStoreActionHandlers").reduce(a,c);switch(d.type){case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:c=d.elements;o=d.id;this.get(o)!==null&&this.get(o).hasValue()||g(0,3142);return this.__handleOne(a,o,this.get(o).getValueEnforcing().addNewElements(c,d.options.offsetIndex));case b("AddCanvasAddCanvasActionFlux").actionType:case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:case b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType:f=d.canvasDocument;return this.__handleOne(a,f.id,f);case b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType:var s=d.canvasDocuments;s.map(function(b){a=this.__handleOne(a,b.id,b)}.bind(this));return a;case b("AdsCanvasDocumentLoadErrorDataActionFlux").actionType:s=d.canvasID;m=d.error;return this.__handleOne(a,s,m);case b("AdsCanvasInitDataActionFlux").actionType:if(d.canvasID!=null)return a;m=b("AdsCanvasDocument").createNewDocument(d.source,d.supportInstagramEnabled);return this.__handleOne(a,m.getID(),m);case b("AdsRichMediaEditorBackToMenuDataActionFlux").actionType:f=this.get(b("AdsCanvasDefaultNewDocumentID")).getValueEnforcing();f=new(b("AdsCanvasDocument"))({id:b("AdsCanvasDefaultNewDocumentID"),source:f.source,uiPropertyList:f.uiPropertyList});return this.__handleOne(a,f.id,f);case b("AdsCanvasDocumentInitSaveDataActionFlux").actionType:f=d.canvasDocument;c=d.elements;m=d.onSuccess;q=d.pageID;h=this.get(f.getID()).updating();b("AdsCanvasDocumentDataDispatcher").saveDocument(f,c,q,m);return a.set(d.canvasID,h);case b("AdsCanvasDocumentInitPublishDataActionFlux").actionType:f=d.canvasDocument;m=d.onSuccess;q=d.pageID;h=this.get(f.getID()).updating();b("AdsCanvasDocumentDataDispatcher").publishDocument(f,q,m);return a.set(d.canvasID,h);case b("AdsCanvasInlineBuilderSaveCanvasDataActionFlux").actionType:e=d.adgroupIDs;f=d.canvasDocument;c=d.elements;n=d.hostID;p=d.onError;m=d.onSuccess;q=d.pageID;r=d.productSetID;k=d.canvasLeadForm;if(!f)return a;h=this.get(f.getID()).updating();b("AdsCanvasDocumentDataDispatcher").saveInlineDocument(f,c,r,q,m,p,e,n,k);return a.set(d.canvasID,h);case b("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux").actionType:e=d.adgroupIDs;k=d.canvases;c=d.elements;n=d.hostID;p=d.onError;m=d.onSuccess;q=d.pageID;r=d.productSetID;k.map(function(b){var c=this.get(b.id).updating();a=a.set(b.id,c)}.bind(this));b("AdsCanvasDocumentDataDispatcher").saveAllInlineDocuments(k,c,r,q,m,p,e,n);return a;case b("AdsCanvasDocumentLoadSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType:s=d.canvasID;f=d.canvasDocument;a=this.__handleOne(a,s,f);return this.__handleOne(a,s+i,f);case b("AdsCanvasDocumentInitDuplicateDataActionFlux").actionType:f=d.canvasDocument;c=d.elements;q=d.pageID;b("AdsCanvasDocumentDataDispatcher").duplicateDocument(f,c,q,d.onSuccess);return a;case b("AdsCanvasDocumentSetTitleDataActionFlux").actionType:o=d.id;h=d.title;this.get(o)!==null&&this.get(o).hasValue()||g(0,3142);return this.__handleOne(a,o,this.get(o).getValueEnforcing().setTitle(h));case b("AdsCanvasDocumentSetSupportInstagramActionFlux").actionType:o=d.id;r=d.value;this.get(o)!==null&&this.get(o).hasValue()||g(0,3142);f=this.get(o).getValueEnforcing();m=f.uiPropertyList;if(r)f=f.set("uiPropertyList",m.push(b("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS));else{p=m.indexOf(b("CanvasUIProperty").SUPPORT_INSTAGRAM_CANVAS);p!==-1&&(f=f.set("uiPropertyList",m["delete"](p)))}return this.__handleOne(a,o,f);case b("AdsRichMediaEditorSetDocumentThemeDataActionFlux").actionType:o=d.id;e=d.theme;this.get(o)!==null&&this.get(o).hasValue()||g(0,3142);return this.__handleOne(a,o,this.get(o).getValueEnforcing().setBackgroundColor(e));case b("AdsCanvasDocumentReorderElementsDataActionFlux").actionType:o=d.id;n=d.source;q=d.target;this.get(o)!==null&&this.get(o).hasValue()||g(0,3142);return this.__handleOne(a,o,this.get(o).getValueEnforcing().reorderElements(n,q));case b("AdsCanvasElementDeleteDataActionFlux").actionType:s=d.canvasID;l=d.elementID;this.get(s)!==null&&this.get(s).hasValue()||g(0,3142);f=this.get(s).getValueEnforcing();c=f.getElements();h=c.findIndex(function(a){return a.id===l});c=c.remove(h);return this.__handleOne(a,s,f.setElements(c));case b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType:s=d.canvasID;f=d.canvasDocument;this.get(s)!==null&&this.get(s).hasValue()||g(0,3142);return this.__handleOne(a,s,f);case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:a=this.__setEmptyAndLoading(a,b("immutable").List([d.canvasID]));b("AdsCanvasDocumentDataDispatcher").getDocument(d.canvasID);return a;case b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType:k=d.canvases;k.map(function(b){a=this.__handleOne(a,b.id,b)}.bind(this));return a;case b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType:case b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType:f=this.get(b("AdsCanvasDefaultNewDocumentID")).getValueEnforcing();f=f.set("elements",j([]));return this.__handleOne(a,f.id,f);case b("AdsCanvasResetCanvasDataActionFlux").actionType:s=d.canvasID;if(!b("CanvasDataUtils").isNewDocumentID(s)){r=this.get(s+i).getValueEnforcing();a=this.__handleOne(a,s,r)}return a;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:return this.getInitialState();default:return a}};a.prototype.__load=function(a){b("AdsCanvasDocumentDataDispatcher").getDocument(a)};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCanvasElementStore",["invariant","AddCanvasAddCanvasActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasButtonElement","AdsCanvasCarouselElement","AdsCanvasConstants","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasElementCreateSuccessDataActionFlux","AdsCanvasElementDataDispatcher","AdsCanvasElementDeleteDataActionFlux","AdsCanvasElementLoadErrorDataActionFlux","AdsCanvasElementLoadSuccessDataActionFlux","AdsCanvasElementMultiUpdateActionFlux","AdsCanvasElementSaveSuccessDataActionFlux","AdsCanvasElementStoreActionHandlers","AdsCanvasElementSwitchButtonPositionDataActionFlux","AdsCanvasEnableMultiTabCanvasActionFlux","AdsCanvasFooterElement","AdsCanvasHeaderElement","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux","AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux","AdsCanvasInlineTransformCanvasDataActionFlux","AdsCanvasLeadFormElement","AdsCanvasPhotoElement","AdsCanvasProductSetElement","AdsCanvasResetCanvasDataActionFlux","AdsCanvasStoreLocatorElement","AdsCanvasTextElement","AdsCanvasVideoElement","AdsDataAtom","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","CanvasDataUtils","FluxLoadObjectStore","RichMediaElementTypeConstant","adsCreateStoreThunkSelector","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX,j=b("RichMediaElementTypeConstant").RichMediaElementTypes,k=b("immutable").List;c=babelHelpers.inherits(a,b("FluxLoadObjectStore"));h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.getByID=b("adsCreateStoreThunkSelector")(this,this.get.bind(this)),c}a.prototype.reduce=function(a,c){__p&&__p();var d=c.action,e,f,g,h;a=b("AdsCanvasElementStoreActionHandlers").reduce(a,c);switch(d.type){case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:c=d.elements;g=new Map();c.map(function(a){__p&&__p();switch(a.elementType){case j.BUTTON:g.set(a.id,b("AdsCanvasButtonElement").createNewElement(a.id));break;case j.CAROUSEL:g.set(a.id,b("AdsCanvasCarouselElement").createNewElement(a.id));break;case j.ELEMENT_GROUP:g.set(a.id,b("AdsCanvasProductSetElement").createNewElement(a.id));break;case j.FOOTER:g.set(a.id,b("AdsCanvasFooterElement").createNewElement(a.id));break;case j.HEADER:g.set(a.id,b("AdsCanvasHeaderElement").createNewElement(a.id));break;case j.PHOTO:g.set(a.id,b("AdsCanvasPhotoElement").createNewElement(a.id,!!d.options.addProductTags));break;case j.RICH_TEXT:g.set(a.id,b("AdsCanvasTextElement").createNewElement(a.id));break;case j.STORE_LOCATOR:g.set(a.id,b("AdsCanvasStoreLocatorElement").createNewElement(a.id,b("nullthrows")(d.options.locationSourceID)));break;case j.VIDEO:g.set(a.id,b("AdsCanvasVideoElement").createNewElement(a.id));break;case j.LEAD_GEN_FORM:g.set(a.id,new(b("AdsCanvasLeadFormElement"))({id:a.id,leadgen_data_id:null}));break;default:break}});return this.__handleMap(a,g);case b("AdsCanvasElementLoadSuccessDataActionFlux").actionType:case b("AdsCanvasElementCreateSuccessDataActionFlux").actionType:case b("AdsCanvasElementSaveSuccessDataActionFlux").actionType:f=d.elementID;e=d.canvasElement;a=this.__handleOne(a,f,e);return this.__handleOne(a,f+i,e);case b("AdsCanvasElementLoadErrorDataActionFlux").actionType:f=d.elementID;h=d.error;return this.__handleOne(a,f,h);case b("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux").actionType:return this.$AdsCanvasElementStore1(a,d);case b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType:return this.$AdsCanvasElementStore2(a,d);case b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType:f=d.elementID;e=d.canvasElement;return this.__handleOne(a,f,e);case b("AdsCanvasElementDeleteDataActionFlux").actionType:f=d.elementID;return this.__setEmpty(a,k([f]));case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:h=d.elementIDs;h&&(a=this.__setEmptyAndLoading(a,h),this.__loadAll(h));return a;case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:case b("AdsCanvasInlineTransformCanvasDataActionFlux").actionType:case b("AdsCanvasEnableMultiTabCanvasActionFlux").actionType:case b("AdsCanvasElementMultiUpdateActionFlux").actionType:case b("AddCanvasAddCanvasActionFlux").actionType:c=d.elements;c.map(function(b){a=this.__handleOne(a,b.id,b)}.bind(this));return a;case b("AdsCanvasResetCanvasDataActionFlux").actionType:h=d.elementIDs;h.map(function(c){if(!b("CanvasDataUtils").isNewElementID(c)){var d=this.get(c+i).getValueEnforcing();a=this.__handleOne(a,c,d)}}.bind(this));return a;default:return a}};a.prototype.getElementList=function(a){return a.map(function(a){return this.get(a)}.bind(this))};a.prototype.__load=function(a){b("AdsCanvasElementDataDispatcher").getElement(a)};a.prototype.$AdsCanvasElementStore1=function(a,c){__p&&__p();var d=c.photoElementID,e=c.productID,f=c.coordinates;c=this.get(d);c!=null&&c.hasValue()||g(0,2833);c=c.getValueEnforcing();var h=c.get("productTags"),i=b("nullthrows")(h).findIndex(function(a){return a.productID===e});i!==-1||g(0,2834);h=h.updateIn([i],function(a){return a.set("coordinates",f)});i=c.set("productTags",h);return this.__handleOne(a,d,i)};a.prototype.$AdsCanvasElementStore2=function(a,c){__p&&__p();var d=c.photoElementID,e=c.productID;c=this.get(d);c!=null&&c.hasValue()||g(0,2833);c=c.getValueEnforcing();var f=c.get("productTags");f=b("nullthrows")(f).findIndex(function(a){return a.productID===e});f!==-1||g(0,2834);c=c.set("currentItemIndex",f);return this.__handleOne(a,d,c)};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCanvasElementUnifiedBuilderToggleHeaderElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasHeaderElement","AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasUnifiedBuilderToggleHeaderElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});return{canvases:c}},mutate:function(a,c,d){var e=c;a.addHeader&&d.canvases.map(function(c){var d=c.elements.findIndex(function(a){return a.elementType===g.HEADER});c=c.elements.get(d).id;d=b("AdsCanvasHeaderElement").createNewElement(c,a.title);e=e.set(c,b("LoadObject").withValue(d))});return e}};e.exports=a}),null);
__d("AdsCanvasElementInlineToggleLeadFormElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsCanvasLeadFormElement","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});return{canvases:c}},mutate:function(a,c,d){a.addLeadForm&&d.canvases.map(function(d){var e=d.elements.findIndex(function(a){return a.elementType===g.LEAD_GEN_FORM});d=d.elements.get(e).id;e=new(b("AdsCanvasLeadFormElement"))({id:d,leadgen_data_id:a.leadGenFormSourceID});c=c.set(d,b("LoadObject").withValue(e))});return c}};e.exports=a}),null);
__d("AdsCanvasElementInlineToggleStoreLocatorElementActionHandler",["AdsCanvasCurrentCanvasIDStore","AdsCanvasDocumentStore","AdsCanvasInlineToggleStoreLocatorElementActionFlux","AdsCanvasStoreLocatorElement","AdsDataAtom","AdsSelectorUtils","AdsStoreUtils","LoadObject","RichMediaElementTypeConstant","adsCanvasCurrentDocumentSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RichMediaElementTypeConstant").RichMediaElementTypes;a={type:b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType,genExtraData:function(a,c){b("AdsDataAtom").waitFor(b("AdsSelectorUtils").getStoreDispatchTokens([b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs,b("adsCanvasCurrentDocumentSelector"),b("AdsStoreUtils").toSelector(b("AdsCanvasDocumentStore"))]));a=b("AdsCanvasCurrentCanvasIDStore").getAllDocumentIDs();c=a.map(function(a){return b("AdsCanvasDocumentStore").get(a).getValueEnforcing()});return{canvases:c}},mutate:function(a,c,d){a.addStoreLocator&&d.canvases.map(function(d){var e=d.elements.findIndex(function(a){return a.elementType===g.STORE_LOCATOR});d=d.elements.get(e).id;e=new(b("AdsCanvasStoreLocatorElement"))({id:d,locationSourceID:a.locationSourceID});c=c.set(d,b("LoadObject").withValue(e))});return c}};e.exports=a}),null);
__d("AdsCanvasElementAddNewLifestyleComponentActionHandler",["AdsCanvasAddNewLifestyleComponentActionFlux","LoadObject"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType,mutate:function(a,c,d){return c.set(a.lifestyleElement.id,b("LoadObject").withValue(a.lifestyleElement))}};e.exports=a}),null);
__d("AdsCanvasElementDisableCategoryTabsActionHandler",["AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasElementStoreTransformElementReducer"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasDisableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasElementStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){return b("AdsCanvasElementStoreTransformElementReducer").mutate(a,c,d)}};e.exports=a}),null);
__d("AdsCanvasElementEnableCategoryTabsActionHandler",["AdsCanvasElementStoreTransformElementReducer","AdsCanvasEnableCategoryTabsActionFlux","LoadObject"],(function(a,b,c,d,e,f){"use strict";a={type:b("AdsCanvasEnableCategoryTabsActionFlux").actionType,genExtraData:function(a,c){return b("AdsCanvasElementStoreTransformElementReducer").genExtraData(a,c)},mutate:function(a,c,d){c;c=b("AdsCanvasElementStoreTransformElementReducer").mutate(a,c,d);return a.newHeaderElement!=null?c.set(a.newHeaderElement.id,b("LoadObject").withValue(a.newHeaderElement)):c}};e.exports=a}),null);
__d("RichMediaEditorStore",["AddCanvasAddCanvasActionFlux","AdsCanvasAddNewLifestyleComponentActionFlux","AdsCanvasBuilderLoadTemplateDataActionFlux","AdsCanvasBuilderOpenBlankCanvasDataActionFlux","AdsCanvasBuilderOpenNUXTourDataActionFlux","AdsCanvasBuilderSelectTemplateDataActionFlux","AdsCanvasCollectionPreviewToFacebookDataActionFlux","AdsCanvasCollectionPreviewToInstagramDataActionFlux","AdsCanvasDeleteDocumentActionFlux","AdsCanvasDisableCategoryTabsActionFlux","AdsCanvasDisableMultiTabCanvasActionFlux","AdsCanvasDocumentAddNewElementsDataActionFlux","AdsCanvasDocumentCreateErrorDataActionFlux","AdsCanvasDocumentCreateSuccessDataActionFlux","AdsCanvasDocumentDuplicateErrorDataActionFlux","AdsCanvasDocumentDuplicateSuccessDataActionFlux","AdsCanvasDocumentInitDuplicateDataActionFlux","AdsCanvasDocumentInitPublishDataActionFlux","AdsCanvasDocumentInitSaveDataActionFlux","AdsCanvasDocumentLoadSuccessDataActionFlux","AdsCanvasDocumentReorderElementsDataActionFlux","AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux","AdsCanvasDocumentSaveErrorDataActionFlux","AdsCanvasDocumentSaveSuccessDataActionFlux","AdsCanvasDocumentSetSupportInstagramActionFlux","AdsCanvasDocumentSetTitleDataActionFlux","AdsCanvasEditorEnums","AdsCanvasElementCreateErrorDataActionFlux","AdsCanvasElementDeleteDataActionFlux","AdsCanvasElementMultiUpdateActionFlux","AdsCanvasElementSaveErrorDataActionFlux","AdsCanvasElementSwitchButtonPositionDataActionFlux","AdsCanvasElementUpdateDataActionFlux","AdsCanvasEnableCategoryTabsActionFlux","AdsCanvasInitDataActionFlux","AdsCanvasInlineBuilderPreviewCanvasDataActionFlux","AdsCanvasInlineBuilderSaveAllCanvasesActionFlux","AdsCanvasInlineBuilderSaveCanvasDataActionFlux","AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux","AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux","AdsCanvasInlineToggleLeadFormElementDataActionFlux","AdsCanvasInlineToggleStoreLocatorElementActionFlux","AdsCanvasReorderMultiCanvasActionFlux","AdsCanvasResetCanvasDataActionFlux","AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux","AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux","AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux","AdsCanvasSwitchElementTypeActionFlux","AdsCanvasTemplates","AdsDataAtom","AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux","AdsRichMediaEditorBackToMenuDataActionFlux","AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux","AdsRichMediaEditorSetCanvasPageidDataActionFlux","AdsRichMediaEditorSetCanvasSourceDataActionFlux","AdsRichMediaEditorSetDocumentThemeDataActionFlux","AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux","AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux","AdsRichMediaEditorSetPreviewFailedDataActionFlux","AdsRichMediaEditorSetPreviewTypeDataActionFlux","AdsRichMediaEditorSetSendingPreviewDataActionFlux","AdsRichMediaEditorSetShowTemplatesDataActionFlux","AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux","AdsRichMediaEditorSetValidationFailedDataActionFlux","AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux","AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux","AdsRichMediaEditorTriggerNuxTourDataActionFlux","AdsUEditorAdgroupSetCanvasDocumentDataActionFlux","CanvasSource","FluxStore","RichMediaDocumentThemeConstants","RichMediaEditorTemplateLayouts","SimpleNUXMessage","SimpleNUXMessageTypes","adsCreateStoreSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsCanvasEditorEnums").DocumentThemeEnum,i=b("AdsCanvasEditorEnums").ErrorTypeEnum,j=b("AdsCanvasEditorEnums").PreviewEnum,k=b("AdsCanvasEditorEnums").SaveStateEnum,l=b("RichMediaDocumentThemeConstants").BLACK,m=b("RichMediaEditorTemplateLayouts").LAYOUT_CONFIGS,n=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxStore"));g=c&&c.prototype;function a(a){__p&&__p();g.constructor.call(this,a),this.getCanvasPageId=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore24}.bind(this),e.id),this.getCanvasSource=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore23}.bind(this),e.id),this.getCustomThemeColor=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore2}.bind(this),e.id),this.getDocumentThemeType=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore3}.bind(this),e.id),this.getDocumentEditState=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore4}.bind(this),e.id),this.getPreviewFailed=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore7}.bind(this),e.id),this.getPreviewType=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore29}.bind(this),e.id),this.getSendingPreview=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore9}.bind(this),e.id),this.getSaveFailed=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore8}.bind(this),e.id),this.getDocumentURLDialogShown=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore11}.bind(this),e.id),this.getDocumentDebugPaneShown=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore10}.bind(this),e.id),this.getCurrentEditingElementIndex=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore12}.bind(this),e.id),this.getScrollToPreviewElementID=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore13}.bind(this),e.id),this.getShowAddComponentDialog=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore14}.bind(this),e.id),this.getShowBackToMenuUnsavedDialog=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore20}.bind(this),e.id),this.getShowCloseUnsavedCanvasDialog=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore21}.bind(this),e.id),this.getShowManualProductComposerDialog=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore22}.bind(this),e.id),this.getError=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore30}.bind(this),e.id),this.getErrorType=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore5}.bind(this),e.id),this.getManualCatalogCreated=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore18}.bind(this),e.id),this.getSelectedTemplate=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore19}.bind(this),e.id),this.getShowTemplates=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore15}.bind(this),e.id),this.getSwipeToOpenEnabled=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore26}.bind(this),e.id),this.getSupportFacebookEnabled=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore27}.bind(this),e.id),this.getSupportInstagramEnabled=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore28}.bind(this),e.id),this.isDefaultDocument=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore6}.bind(this),e.id),this.isWelcomePaneShown=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore17}.bind(this),e.id),this.isLeadFormEnabled=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore31}.bind(this),e.id),this.isLeadFormTogglerAdded=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore32}.bind(this),e.id),this.showNuxTour=b("adsCreateStoreSelector")([this],function(){return this.$RichMediaEditorStore16}.bind(this),e.id),this.$RichMediaEditorStore1=null,this.$RichMediaEditorStore2=l,this.$RichMediaEditorStore3=h.WHITE,this.$RichMediaEditorStore4=k.SAVED,this.$RichMediaEditorStore5=i.NONE,this.$RichMediaEditorStore6=!1,this.$RichMediaEditorStore7=!1,this.$RichMediaEditorStore8=!1,this.$RichMediaEditorStore9=!1,this.$RichMediaEditorStore10=!1,this.$RichMediaEditorStore11=!1,this.$RichMediaEditorStore12=-1,this.$RichMediaEditorStore13=null,this.$RichMediaEditorStore14=!1,this.$RichMediaEditorStore16=!1,this.$RichMediaEditorStore17=!1,this.$RichMediaEditorStore18=!1,this.$RichMediaEditorStore19=null,this.$RichMediaEditorStore20=!1,this.$RichMediaEditorStore21=!1,this.$RichMediaEditorStore22=!1,this.$RichMediaEditorStore15=!1,this.$RichMediaEditorStore23=b("CanvasSource").OTHER,this.$RichMediaEditorStore24="",this.$RichMediaEditorStore25=!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").AD_CANVAS_EDITOR_TOOLBAR_NUX),this.$RichMediaEditorStore26=!0,this.$RichMediaEditorStore27=!0,this.$RichMediaEditorStore28=!1,this.$RichMediaEditorStore29=j.FACEBOOK,this.$RichMediaEditorStore30=null,this.$RichMediaEditorStore31=!1,this.$RichMediaEditorStore32=!1}a.prototype.__getActionTypes=function(){return n?[b("AddCanvasAddCanvasActionFlux").actionType,b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType,b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType,b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType,b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType,b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType,b("AdsCanvasCollectionPreviewToFacebookDataActionFlux").actionType,b("AdsCanvasCollectionPreviewToInstagramDataActionFlux").actionType,b("AdsCanvasDeleteDocumentActionFlux").actionType,b("AdsCanvasDisableCategoryTabsActionFlux").actionType,b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType,b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType,b("AdsCanvasDocumentCreateErrorDataActionFlux").actionType,b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType,b("AdsCanvasDocumentDuplicateErrorDataActionFlux").actionType,b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType,b("AdsCanvasDocumentInitDuplicateDataActionFlux").actionType,b("AdsCanvasDocumentInitPublishDataActionFlux").actionType,b("AdsCanvasDocumentInitSaveDataActionFlux").actionType,b("AdsCanvasDocumentLoadSuccessDataActionFlux").actionType,b("AdsCanvasDocumentReorderElementsDataActionFlux").actionType,b("AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux").actionType,b("AdsCanvasDocumentSaveErrorDataActionFlux").actionType,b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType,b("AdsCanvasDocumentSetSupportInstagramActionFlux").actionType,b("AdsCanvasDocumentSetTitleDataActionFlux").actionType,b("AdsCanvasElementCreateErrorDataActionFlux").actionType,b("AdsCanvasElementDeleteDataActionFlux").actionType,b("AdsCanvasElementMultiUpdateActionFlux").actionType,b("AdsCanvasElementSaveErrorDataActionFlux").actionType,b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType,b("AdsCanvasElementUpdateDataActionFlux").actionType,b("AdsCanvasEnableCategoryTabsActionFlux").actionType,b("AdsCanvasInitDataActionFlux").actionType,b("AdsCanvasInlineBuilderPreviewCanvasDataActionFlux").actionType,b("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux").actionType,b("AdsCanvasInlineBuilderSaveCanvasDataActionFlux").actionType,b("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux").actionType,b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType,b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType,b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType,b("AdsCanvasReorderMultiCanvasActionFlux").actionType,b("AdsCanvasResetCanvasDataActionFlux").actionType,b("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux").actionType,b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType,b("AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux").actionType,b("AdsCanvasSwitchElementTypeActionFlux").actionType,b("AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux").actionType,b("AdsRichMediaEditorBackToMenuDataActionFlux").actionType,b("AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux").actionType,b("AdsRichMediaEditorSetCanvasPageidDataActionFlux").actionType,b("AdsRichMediaEditorSetCanvasSourceDataActionFlux").actionType,b("AdsRichMediaEditorSetDocumentThemeDataActionFlux").actionType,b("AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux").actionType,b("AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux").actionType,b("AdsRichMediaEditorSetPreviewFailedDataActionFlux").actionType,b("AdsRichMediaEditorSetPreviewTypeDataActionFlux").actionType,b("AdsRichMediaEditorSetSendingPreviewDataActionFlux").actionType,b("AdsRichMediaEditorSetShowTemplatesDataActionFlux").actionType,b("AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux").actionType,b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType,b("AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux").actionType,b("AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux").actionType,b("AdsRichMediaEditorTriggerNuxTourDataActionFlux").actionType,b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsRichMediaEditorSetDocumentThemeDataActionFlux").actionType:c.themeType===h.CUSTOM&&(this.$RichMediaEditorStore2=c.theme);this.$RichMediaEditorStore3=c.themeType;this.$RichMediaEditorStore4=k.UNSAVED;this.__emitChange();break;case b("AdsRichMediaEditorSetPreviewFailedDataActionFlux").actionType:this.$RichMediaEditorStore7=c.previewFailed;this.__emitChange();break;case b("AdsRichMediaEditorSetPreviewTypeDataActionFlux").actionType:this.$RichMediaEditorStore29=c.previewType;this.__emitChange();break;case b("AdsRichMediaEditorSetSendingPreviewDataActionFlux").actionType:this.$RichMediaEditorStore9=c.sendingPreview;this.__emitChange();break;case b("AdsCanvasDocumentSaveErrorDataActionFlux").actionType:this.$RichMediaEditorStore8=!0;this.$RichMediaEditorStore5=i.ERROR;this.$RichMediaEditorStore30=c.error;this.$RichMediaEditorStore4=k.UNSAVED;this.__emitChange();break;case b("AdsRichMediaEditorSetValidationFailedDataActionFlux").actionType:c.isDocumentLevelError&&(this.$RichMediaEditorStore30=new Error(c.validation.errorMsg.toString()));this.$RichMediaEditorStore5=i.ERROR;this.__emitChange();break;case b("AdsRichMediaEditorShowManualProductComposerDialogDataActionFlux").actionType:this.$RichMediaEditorStore22=c.visible,this.__emitChange();case b("AdsRichMediaEditorSetDocumentUrlDialogShownDataActionFlux").actionType:this.$RichMediaEditorStore11=c.dialogShown;this.__emitChange();break;case b("AdsRichMediaEditorToggleDocumentDebugPaneShownDataActionFlux").actionType:this.$RichMediaEditorStore10=!this.$RichMediaEditorStore10;this.__emitChange();break;case b("AdsRichMediaEditorTriggerNuxTourDataActionFlux").actionType:this.$RichMediaEditorStore16=c.shown;this.__emitChange();break;case b("AdsRichMediaEditorSetAddComponentDialogShownDataActionFlux").actionType:this.$RichMediaEditorStore14=c.dialogShown;this.__emitChange();break;case b("AdsCanvasDocumentAddNewElementsDataActionFlux").actionType:this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore5=i.NONE;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore14=!1;this.$RichMediaEditorStore17=!1;this.__emitChange();break;case b("AdsRichMediaEditorSetShowTemplatesDataActionFlux").actionType:this.$RichMediaEditorStore15=c.showTemplates;this.__emitChange();break;case b("AdsCanvasBuilderLoadTemplateDataActionFlux").actionType:this.$RichMediaEditorStore19=c.selectedTemplate;this.$RichMediaEditorStore26=!1;this.__emitChange();break;case b("AdsCanvasBuilderOpenBlankCanvasDataActionFlux").actionType:this.$RichMediaEditorStore17=!1;this.$RichMediaEditorStore14=!0;this.$RichMediaEditorStore26=!0;this.__emitChange();break;case b("AdsCanvasBuilderOpenNUXTourDataActionFlux").actionType:this.$RichMediaEditorStore17=!1;this.$RichMediaEditorStore16=!0;this.$RichMediaEditorStore26=!0;this.__emitChange();break;case b("AdsCanvasBuilderSelectTemplateDataActionFlux").actionType:this.$RichMediaEditorStore17=!1;this.$RichMediaEditorStore26=!0;this.__emitChange();break;case b("AdsRichMediaEditorBackToMenuDataActionFlux").actionType:this.$RichMediaEditorStore6=!0;this.$RichMediaEditorStore17=!0;this.$RichMediaEditorStore19=null;this.$RichMediaEditorStore26=!0;this.$RichMediaEditorStore5=i.NONE;this.$RichMediaEditorStore3=h.WHITE;this.$RichMediaEditorStore2=l;this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore10=!1;this.$RichMediaEditorStore16=!1;this.__emitChange();break;case b("AdsRichMediaEditorSetCanvasSourceDataActionFlux").actionType:this.$RichMediaEditorStore23=c.source;this.__emitChange();break;case b("AdsRichMediaEditorSetCanvasPageidDataActionFlux").actionType:this.$RichMediaEditorStore24=c.pageId;this.__emitChange();break;case b("AdsRichMediaEditorSetSwipeToOpenEnabledDataActionFlux").actionType:this.$RichMediaEditorStore26=c.value;this.$RichMediaEditorStore4=k.UNSAVED;this.__emitChange();break;case b("AdsCanvasDocumentSetSupportInstagramActionFlux").actionType:this.$RichMediaEditorStore28=c.value;this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore29=j.FACEBOOK;this.__emitChange();break;case b("AdsCanvasInlineBuilderSaveCanvasDataActionFlux").actionType:case b("AdsCanvasInlineBuilderSaveAllCanvasesActionFlux").actionType:this.$RichMediaEditorStore4=k.SAVING;this.__emitChange();break;case b("AdsCanvasCollectionPreviewToFacebookDataActionFlux").actionType:case b("AdsCanvasCollectionPreviewToInstagramDataActionFlux").actionType:case b("AdsCanvasInlineBuilderPreviewCanvasDataActionFlux").actionType:this.$RichMediaEditorStore9=!1;this.__emitChange();break;case b("AdsRichMediaEditorSetManualCatalogCreatedDataActionFlux").actionType:this.$RichMediaEditorStore18=c.created;this.__emitChange();break;case b("AdsUEditorAdgroupSetCanvasDocumentDataActionFlux").actionType:this.$RichMediaEditorStore4=k.SAVED;this.__emitChange();break;case b("AdsCanvasInitDataActionFlux").actionType:this.$RichMediaEditorStore3=h.WHITE;this.$RichMediaEditorStore2=l;this.$RichMediaEditorStore4=c.canvasID?k.SAVED:k.UNSAVED;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore5!==i.WARNING&&(this.$RichMediaEditorStore5=i.NONE);this.$RichMediaEditorStore7=!1;this.$RichMediaEditorStore8=!1;this.$RichMediaEditorStore9=!1;this.$RichMediaEditorStore10=!1;this.$RichMediaEditorStore11=!1;this.$RichMediaEditorStore12=-1;this.$RichMediaEditorStore14=!1;this.$RichMediaEditorStore16=!1;this.$RichMediaEditorStore19=null;this.$RichMediaEditorStore20=!1;this.$RichMediaEditorStore29=j.FACEBOOK;c.supportFacebookEnabled===!1?(this.$RichMediaEditorStore27=!1,c.supportInstagramEnabled&&(this.$RichMediaEditorStore29=j.INSTAGRAM)):this.$RichMediaEditorStore27=!0;this.$RichMediaEditorStore28=!!c.supportInstagramEnabled;this.$RichMediaEditorStore6=!c.canvasID;this.$RichMediaEditorStore17=!c.canvasID;c.canvasID||(this.$RichMediaEditorStore26=!0);this.$RichMediaEditorStore24=c.pageID;this.$RichMediaEditorStore31=!1;this.$RichMediaEditorStore32=!1;this.__emitChange();break;case b("AdsCanvasDocumentLoadSuccessDataActionFlux").actionType:this.$RichMediaEditorStore26=c.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore4=m.some(function(a){return String(b("AdsCanvasTemplates")[a.value])===c.canvasID})?this.$RichMediaEditorStore4:k.SAVED;this.__emitChange();break;case b("AdsCanvasDocumentInitSaveDataActionFlux").actionType:this.$RichMediaEditorStore5=c.hasErrors?i.WARNING:i.NONE;this.$RichMediaEditorStore4=k.SAVING;this.__emitChange();break;case b("AdsCanvasDocumentInitPublishDataActionFlux").actionType:case b("AdsCanvasDocumentInitDuplicateDataActionFlux").actionType:this.$RichMediaEditorStore4=k.SAVING;this.__emitChange();break;case b("AdsCanvasDocumentCreateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateSuccessDataActionFlux").actionType:case b("AdsCanvasDocumentSaveSuccessDataActionFlux").actionType:this.$RichMediaEditorStore4=c.setSavedState?k.SAVED:this.$RichMediaEditorStore4;this.$RichMediaEditorStore26=c.canvasDocument.swipeToOpenEnabled;this.$RichMediaEditorStore8=!1;this.__emitChange();break;case b("AdsCanvasDocumentSaveDynamicCanvasErrorActionFlux").actionType:case b("AdsCanvasDocumentCreateErrorDataActionFlux").actionType:case b("AdsCanvasDocumentDuplicateErrorDataActionFlux").actionType:case b("AdsCanvasElementCreateErrorDataActionFlux").actionType:case b("AdsCanvasElementSaveErrorDataActionFlux").actionType:this.$RichMediaEditorStore4=k.SAVED;this.$RichMediaEditorStore30=c.error;this.$RichMediaEditorStore8=!0;this.__emitChange();break;case b("AdsCanvasElementUpdateDataActionFlux").actionType:case b("AdsCanvasElementMultiUpdateActionFlux").actionType:this.$RichMediaEditorStore4=c.setUnsavedState?k.UNSAVED:this.$RichMediaEditorStore4;this.$RichMediaEditorStore6=!!c.setUnsavedState;this.$RichMediaEditorStore12=c.scrollToIndex?c.scrollToIndex:this.$RichMediaEditorStore12;this.$RichMediaEditorStore13=c.scrollToPreviewElementID;this.$RichMediaEditorStore5=i.NONE;this.$RichMediaEditorStore30=null;this.__emitChange();break;case b("AdsCanvasElementSwitchButtonPositionDataActionFlux").actionType:case b("AdsCanvasSwitchElementTypeActionFlux").actionType:this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore12=c.index;this.$RichMediaEditorStore13=null;this.$RichMediaEditorStore5=i.NONE;this.$RichMediaEditorStore30=null;this.__emitChange();break;case b("AdsCanvasInlineBuilderShowProductTaggingOverlayDataActionFlux").actionType:this.$RichMediaEditorStore12=c.index,this.$RichMediaEditorStore13=null,this.__emitChange();case b("AdsCanvasInlineBuilderSetProductTaggingCoordinatesDataActionFlux").actionType:case b("AdsCanvasDisableMultiTabCanvasActionFlux").actionType:case b("AdsCanvasReorderMultiCanvasActionFlux").actionType:case b("AddCanvasAddCanvasActionFlux").actionType:case b("AdsCanvasDeleteDocumentActionFlux").actionType:case b("AdsCanvasInlineToggleStoreLocatorElementActionFlux").actionType:case b("AdsCanvasAddNewLifestyleComponentActionFlux").actionType:case b("AdsCanvasSetProductCatalogForLifestyleComponentsActionFlux").actionType:case b("AdsCanvasSetHideProductPricesForLifestyleComponentsActionFlux").actionType:case b("AdsCanvasDisableCategoryTabsActionFlux").actionType:case b("AdsCanvasEnableCategoryTabsActionFlux").actionType:this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore5=i.NONE;this.__emitChange();break;case b("AdsCanvasInlineToggleLeadFormElementDataActionFlux").actionType:this.$RichMediaEditorStore31=c.addLeadForm;this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore30=null;this.$RichMediaEditorStore5=i.NONE;this.__emitChange();break;case b("AdsLeadGenFormEditorToggleElementAddedInCanvasEditorActionFlux").actionType:this.$RichMediaEditorStore32=!0;this.$RichMediaEditorStore31=c.initState;this.__emitChange();break;case b("AdsCanvasDocumentReorderElementsDataActionFlux").actionType:this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore6=!1;this.$RichMediaEditorStore12=c.target;this.$RichMediaEditorStore13=null;this.__emitChange();break;case b("AdsCanvasDocumentSetTitleDataActionFlux").actionType:case b("AdsCanvasElementDeleteDataActionFlux").actionType:this.$RichMediaEditorStore4=k.UNSAVED;this.$RichMediaEditorStore6=!1;this.__emitChange();break;case b("AdsCanvasResetCanvasDataActionFlux").actionType:this.$RichMediaEditorStore21=!1;this.__emitChange();break;case b("AdsCanvasShowCloseUnsavedCanvasDialogDataActionFlux").actionType:this.$RichMediaEditorStore21=c.showDialog;this.__emitChange();break}};a.prototype.isNewUser=function(){return this.$RichMediaEditorStore25};a.prototype.setIsNotNewUser=function(){this.$RichMediaEditorStore25&&(b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").AD_CANVAS_EDITOR_TOOLBAR_NUX),this.$RichMediaEditorStore25=!1)};a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPixelServerReceivePixelStatsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="RECEIVE_PIXEL_STATS";e.exports={actionType:a}}),null);